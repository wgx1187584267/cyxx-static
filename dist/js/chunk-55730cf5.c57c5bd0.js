(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55730cf5","chunk-2d0ae566"],{"0964":function(t,e,n){"use strict";n.d(e,"q",(function(){return i})),n.d(e,"m",(function(){return r})),n.d(e,"o",(function(){return l})),n.d(e,"p",(function(){return c})),n.d(e,"r",(function(){return d})),n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"a",(function(){return x})),n.d(e,"j",(function(){return b})),n.d(e,"n",(function(){return w})),n.d(e,"l",(function(){return S})),n.d(e,"k",(function(){return _}));var a=n("b775");function i(t){return Object(a["b"])({url:"/SchoolStatistics/Get",method:"get",params:t})}function r(t){return Object(a["b"])({url:"/SchoolStatistics/GetSubjectStatistics",method:"get",params:t})}function l(t){return Object(a["b"])({url:"/SchoolStatistics/Detail",method:"get",params:t})}function c(t){return Object(a["b"])({url:"/SchoolStatistics/Export",method:"post",data:t,responseType:"blob"})}function d(t){return Object(a["b"])({url:"/SchoolStatistics/GetStudent",method:"get",params:t})}function o(t){return Object(a["b"])({url:"/SchoolStatistics/GetGradeStatistics",method:"get",params:t})}function s(t){return Object(a["b"])({url:"/SchoolStatistics/GetGradeProjectStatistics",method:"get",params:t})}function u(t){return Object(a["b"])({url:"/SchoolStatistics/GetGradeSubjectStatistics",method:"get",params:t})}function h(t){return Object(a["b"])({url:"/SchoolStatistics/GetGradeSubjectStatisticsMultiple",method:"get",params:t})}function m(t){return Object(a["b"])({url:"/SchoolStatistics/GetGradeSubjectDetailStatistics",method:"get",params:t})}function g(t){return Object(a["b"])({url:"/SchoolStatistics/ExportGradeSubjectStatistics",method:"post",data:t,responseType:"blob"})}function f(t){return Object(a["b"])({url:"/SchoolStatistics/GetClassStatistics",method:"get",params:t})}function p(t){return Object(a["b"])({url:"/SchoolStatistics/GetClassSubjectStatisticsDetail",method:"get",params:t})}function x(t){return Object(a["b"])({url:"/SchoolStatistics/ExportClassSubjectStatistics",method:"post",data:t,responseType:"blob"})}function b(t){return Object(a["b"])({url:"/SchoolStatistics/GetPersonalStatistics",method:"get",params:t})}function w(t){return Object(a["b"])({url:"/ParentAPPService/Get",method:"get",params:t})}function S(t){return Object(a["b"])({url:"/ParentAPPService/GetSubject",method:"get",params:t})}function _(t){return Object(a["b"])({url:"/SchoolStatistics/GetProjectStudent",method:"get",params:t})}},"0a43":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{padding:"0 0 32px 32px"}},[n("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:t.idName}})])},i=[],r=(n("d81d"),n("b0c0"),{props:{idName:{type:String,default:"barStacking"},title:{type:String,default:""},dataSource:{type:Array,required:!0},color:{type:Array,required:!0},barTitle:{type:String,default:""}},data:function(){return{}},mounted:function(){this.initEcharts()},methods:{initEcharts:function(){var t=this.$echarts.init(document.getElementById(this.idName));t.clear();var e=this.color,n=[];n=-1!==this.title.indexOf("BMI")?["正常","低体重","超重","肥胖"]:["A","B","C","D"];var a=[];if(a[0]=this.dataSource.map((function(t){return{value:t.valueA,percent:t.percentA}})),a[1]=this.dataSource.map((function(t){return{value:t.valueB,percent:t.percentB}})),a[2]=this.dataSource.map((function(t){return{value:t.valueC,percent:t.percentC}})),a[3]=this.dataSource.map((function(t){return{value:t.valueD,percent:t.percentD}})),this.dataSource&&this.dataSource.length>0)var i=this.dataSource.map((function(t){return t.name}));for(var r=[],l=0;l<n.length;l++)r.push({name:n[l],type:"bar",stack:"总量",label:{show:!1,formatter:function(t){return t.value+"("+t.data.percent+"%)"}},data:a[l]});var c={title:{text:this.barTitle,textStyle:{fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){for(var e="<div>"+t[0].name+"</div>",n=0;n<t.length;n++)e+='<p><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t[n].color+'"></span><span style="margin-right:5px">'+t[n].seriesName+":</span>"+t[n].data.value+"("+t[n].data.percent+"%)</p>";return e}},color:e,legend:{itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},data:n},grid:{left:"3%",right:"4%",bottom:"13%",containLabel:!0},xAxis:{type:"category",data:i,axisLabel:{fontSize:14,interval:0,formatter:function(t){var e="",n=t.length,a=3;return e=n>a?t.substring(0,a)+"\n"+t.substring(3,n):t,e}},axisTick:{show:!0}},yAxis:{type:"value",name:"人数",boundaryGap:["0","20%"],splitLine:{show:!0}},series:r};c&&t.setOption(c,!0),this.$nextTick((function(){t.resize()}))}}}),l=r,c=n("0c7c"),d=Object(c["a"])(l,a,i,!1,null,null,null);e["default"]=d.exports},3008:function(t,e,n){"use strict";n("c790")},9367:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-drawer",{attrs:{title:t.title,placement:"right",closable:!0,visible:t.visible,width:t.width,footer:null,bodyStyle:{padding:0},destroyOnClose:!0},on:{close:t.handleCancel}},[n("a-card",{attrs:{bordered:!1}},[n("s-table",{ref:"table",attrs:{columns:t.columns,isShowSerialNumber:!1,scroll:{x:t.width-65,y:550},bordered:"",data:t.loadData,alert:!1,rowKey:function(t,e){return e}}},[n("div",{staticClass:"table-operator",attrs:{slot:"operator"},slot:"operator"},[n("a-space",[n("a-button",{attrs:{icon:"down-circle"},on:{click:t.exportFile}},[t._v("导出")])],1)],1)])],1)],1)},i=[],r=n("d0ff"),l=(n("159b"),n("a434"),n("b0c0"),n("99af"),n("2af9")),c=n("0964"),d=n("0a43"),o=n("ca00"),s={components:{BarStacking:d["default"],STable:l["r"]},data:function(){var t=this;return{width:800,title:"详细",visible:!1,loading:!1,queryParam:{},titleName:"",columns:[{title:"学年",align:"center",width:120,fixed:"left",dataIndex:"school_year_name"},{title:"学期",align:"center",width:100,fixed:"left",dataIndex:"semester_name"},{title:"学段",align:"center",width:100,fixed:"left",dataIndex:"academic_stage_name"},{title:"年级",align:"center",width:100,fixed:"left",dataIndex:"grade_name",scopedSlots:{customRender:"grade_name"}},{title:"班级",align:"center",width:100,fixed:"left",dataIndex:"class_name"},{title:"执教老师",align:"center",width:100,fixed:"left",dataIndex:"teacher_name"},{title:"学生姓名",align:"center",width:100,fixed:"left",dataIndex:"student_name"}],defaultColumns:[{title:"学年",align:"center",width:120,fixed:"left",dataIndex:"school_year_name"},{title:"学期",align:"center",width:100,fixed:"left",dataIndex:"semester_name"},{title:"学段",align:"center",width:100,fixed:"left",dataIndex:"academic_stage_name"},{title:"年级",align:"center",width:100,fixed:"left",dataIndex:"grade_name",scopedSlots:{customRender:"grade_name"}},{title:"班级",align:"center",width:100,fixed:"left",dataIndex:"class_name"},{title:"执教老师",align:"center",width:100,fixed:"left",dataIndex:"teacher_name"},{title:"学生姓名",align:"center",width:100,fixed:"left",dataIndex:"student_name"}],loadData:function(e){return Object(c["d"])(Object.assign(e,t.queryParam)).then((function(e){var n=e.data,a=n.rows||[];if("音乐"==t.titleName){if(a.forEach((function(t){t.item.forEach((function(e,n){for(var a in e)if(e.hasOwnProperty(a)){var i=a+n;t[i]=e[a]}}))})),a&&a.length>0&&a[0].item&&t.columns.length<9){var i={},r={title:"总成绩",align:"center",children:[{title:"分数",align:"center",dataIndex:"totalScore",width:90,customRender:function(t,e){return"0"==e.totalScore?"未测":t}},{title:"等级",align:"center",dataIndex:"totalLeavel",width:90,customRender:function(t,e){return"0"==e.totalScore?"未测":t}}]};t.columns.splice(8,0,r);for(var l=0;l<a[0].item.length;l++)-1!==a[0].item[l].name.indexOf("演唱表现")?(i={title:a[0].item[l].name,align:"center",children:[{title:"演唱曲目",align:"center",width:"90px",dataIndex:"song_name".concat(l)},{title:"分数",align:"center",width:"90px",dataIndex:"score".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"level".concat(l)}]},t.columns.splice(t.columns.length-1,0,i)):-1!==a[0].item[l].name.indexOf("附加项")?(i={title:a[0].item[l].name,align:"center",children:[{title:"个人比赛",align:"center",width:"90px",dataIndex:"personal_score".concat(l)},{title:"校内演出",align:"center",width:"90px",dataIndex:"school_score".concat(l)},{title:"社团",align:"center",width:"90px",dataIndex:"clubs_score".concat(l)},{title:"分数",align:"center",width:"90px",dataIndex:"f_score".concat(l)}]},t.columns.splice(t.columns.length-1,0,i)):(i={title:a[0].item[l].name,align:"center",children:[{title:"分数",align:"center",width:"90px",dataIndex:"score".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"level".concat(l)}]},t.columns.splice(t.columns.length-1,0,i))}}else if("体育"==t.titleName){if(a.forEach((function(t){t.item.forEach((function(e,n){for(var a in e)if(e.hasOwnProperty(a)){var i=a+n;t[i]=e[a]}}))})),a&&a.length>0&&a[0].item&&t.columns.length<9){i={};var c={title:"学期初",align:"center",children:[{title:"身高",align:"center",width:90,dataIndex:"value_h_start"},{title:"体重",align:"center",width:90,dataIndex:"value_w_start"},{title:"BMI",align:"center",children:[{title:"指数",align:"center",width:90,dataIndex:"value_b_start"},{title:"等级",align:"center",width:90,dataIndex:"level_b_start"}]},{title:"视力",align:"center",children:[{title:"左眼",width:90,align:"center",dataIndex:"left_eye_vision_start"},{title:"等级",width:90,align:"center",dataIndex:"left_eye_level_start"},{title:"右眼",width:90,align:"center",dataIndex:"right_eye_vision_start"},{title:"等级",width:90,align:"center",dataIndex:"right_eye_level_start"}]}]};t.columns.splice(8,0,c);var d={title:"学期末",align:"center",children:[{title:"身高",align:"center",width:90,dataIndex:"value_h"},{title:"体重",align:"center",width:90,dataIndex:"value_w"},{title:"BMI",align:"center",children:[{title:"指数",align:"center",width:90,dataIndex:"value_b"},{title:"等级",align:"center",width:90,dataIndex:"level_b"}]},{title:"视力",align:"center",children:[{title:"左眼",width:90,align:"center",dataIndex:"left_eye_vision"},{title:"等级",width:90,align:"center",dataIndex:"left_eye_level"},{title:"右眼",width:90,align:"center",dataIndex:"right_eye_vision"},{title:"等级",width:90,align:"center",dataIndex:"right_eye_level"}]}]};t.columns.splice(9,0,d);r={title:"总成绩",align:"center",children:[{title:"分数",width:90,align:"center",dataIndex:"totalScore",customRender:function(t,e){return"0"==e.totalScore?"未测":t}},{title:"等级",width:90,align:"center",dataIndex:"totalLeavel",customRender:function(t,e){return"0"==e.totalScore?"未测":t}}]};t.columns.splice(10,0,r);for(l=0;l<a[0].item.length;l++)"1"==a[0].item[l].sports_mode&&-1!==a[0].item[l].name.indexOf("勤")?(i={title:a[0].item[l].name,align:"center",children:[{title:"缺勤次数",align:"center",width:"90px",dataIndex:"number".concat(l)},{title:"分数",align:"center",width:"90px",dataIndex:"score".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"level".concat(l)}]},t.columns.splice(t.columns.length-1,0,i)):"T"==a[0].item[l].sports_mode?(i={title:a[0].item[l].name,align:"center",children:[{title:"个人比赛",align:"center",width:"90px",dataIndex:"personal_score".concat(l)},{title:"校内演出",align:"center",width:"90px",dataIndex:"school_score".concat(l)},{title:"社团",align:"center",width:"90px",dataIndex:"clubs_score".concat(l)},{title:"分数",align:"center",width:"90px",dataIndex:"f_score".concat(l)}]},t.columns.splice(t.columns.length-1,0,i)):"Z"==a[0].item[l].sports_mode?(i={title:a[0].item[l].name,align:"center",children:[{title:"分数",align:"center",width:"90px",dataIndex:"score".concat(l)}]},t.columns.splice(t.columns.length-1,0,i)):"J"==a[0].item[l].sports_mode?(i={title:a[0].item[l].name,align:"center",children:[{title:"测试项目",align:"center",width:"90px",dataIndex:"sports_name".concat(l)},{title:"分数",align:"center",width:"90px",dataIndex:"score".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"level".concat(l)}]},t.columns.splice(t.columns.length-1,0,i)):"2"==a[0].item[l].sports_mode?(i={title:a[0].item[l].name,align:"center",children:[{title:"立定跳远",align:"center",width:"90px",dataIndex:"jump".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"jump_level".concat(l)},{title:"一分钟跳绳",align:"center",width:"90px",dataIndex:"skipping".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"skipping_level".concat(l)},{title:"分数合计",align:"center",width:"90px",dataIndex:"total_score".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"total_level".concat(l)}]},t.columns.splice(t.columns.length-1,0,i)):(i={title:a[0].item[l].name,align:"center",children:[{title:"分数",align:"center",width:"90px",dataIndex:"score".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"level".concat(l)}]},t.columns.splice(t.columns.length-1,0,i))}}else if("美术"==t.titleName&&(a.forEach((function(t){t.item.forEach((function(e,n){for(var a in e)e.hasOwnProperty(a)&&function(){var i=a+n;"items"==a?e.items.forEach((function(e,n){for(var a in e)if(e.hasOwnProperty(a)){var r=i+a+n;t[r]=e[a]}})):t[i]=e[a]}()}))})),a&&a.length>0&&a[0].item&&t.columns.length<9)){i={};var o={};r={title:"总成绩",align:"center",children:[{title:"分数",width:90,align:"center",dataIndex:"total_score",customRender:function(t){return"0"==t?"未测":t}},{title:"等级",width:90,align:"center",dataIndex:"total_leavel",customRender:function(t,e){return"0"==e.total_score?"未测":t}}]};t.columns.splice(8,0,r);for(l=0;l<a[0].item.length;l++){i={title:a[0].item[l].project_name,align:"center",children:[{title:"合计",align:"center",width:"90px",dataIndex:"total".concat(l)},{title:"等级",align:"center",width:"90px",dataIndex:"level".concat(l)}]};for(var s=0;s<a[0].item[l].items.length;s++)o={title:a[0].item[l].items[s].name,align:"center",width:"90px",dataIndex:"items".concat(l,"score").concat(s)},i.children.splice(s,0,o);t.columns.splice(t.columns.length-1,0,i)}}return n}))}}},methods:{show:function(t,e,n){this.width=window.innerWidth-230,this.titleName=n,this.columns=Object(r["a"])(this.defaultColumns),this.title=n+"详细",this.queryParam.school_year=t.school_year,this.queryParam.semester=t.semester,this.queryParam.subject_id=e,t.classSelData&&t.classSelData.length?this.queryParam.grade_id=t.classSelData[0]:delete this.queryParam.grade_id,t.classSelData&&t.classSelData.length?this.queryParam.class_id=t.classSelData[1]:delete this.queryParam.class_id,this.visible=!0},handleCancel:function(){this.visible=!1},exportFile:function(){var t=this,e=Object.assign({},this.queryParam);Object(c["a"])(e).then((function(t){Object(o["b"])(t)})).catch((function(){t.$message.error("下载错误：获取文件流错误")}))}}},u=s,h=(n("3008"),n("0c7c")),m=Object(h["a"])(u,a,i,!1,null,"da790ef4",null);e["default"]=m.exports},c790:function(t,e,n){}}]);