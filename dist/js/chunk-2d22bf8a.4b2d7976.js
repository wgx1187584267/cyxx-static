(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22bf8a"],{f0f0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isEnter?t._e():a("div",[a("a-card",{attrs:{bordered:!1,bodyStyle:t.tstyle}},[a("a-form-model",{ref:"ruleForm",staticStyle:{width:"50%","margin-left":"20%","margin-top":"10%","margin-bottom":"10%"},attrs:{model:t.formContent,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,rules:t.rules}},[a("a-form-model-item",{attrs:{label:"学年学期",prop:"ysValue"}},[a("a-cascader",{attrs:{fieldNames:t.fieldNames,options:t.yearTree,placeholder:"请选择学年学期","change-on-select":!1},model:{value:t.formContent.ysValue,callback:function(e){t.$set(t.formContent,"ysValue",e)},expression:"formContent.ysValue"}})],1),a("a-form-model-item",{attrs:{label:"班级",prop:"fwValue"}},[a("ClassSelect",{ref:"classSelect",attrs:{placeholder:"请选择班级",changeOnSelect:!0,academicStage:"2"},on:{change:t.changeGrade},model:{value:t.formContent.fwValue,callback:function(e){t.$set(t.formContent,"fwValue",e)},expression:"formContent.fwValue"}})],1),a("a-form-model-item",{attrs:{label:"学生",prop:"student_id"}},[a("a-select",{attrs:{"allow-clear":"",placeholder:"请选择学生",showSearch:!0,optionFilterProp:"label"},model:{value:t.formContent.student_id,callback:function(e){t.$set(t.formContent,"student_id",e)},expression:"formContent.student_id"}},t._l(t.studentList,(function(e,i){return a("a-select-option",{key:i,attrs:{value:e.id,label:e.name}},[t._v(t._s(e.name))])})),1)],1),a("div",{staticStyle:{"margin-bottom":"20px",display:"flex","justify-content":"center"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("进入个人分析页面")])],1)],1)],1)],1),t.isEnter?a("div",[a("a-button",{attrs:{type:"link"},on:{click:t.goBack}},[a("a-icon",{attrs:{type:"arrow-left"}}),t._v("返回到选择页面")],1),a("a-card",{attrs:{loading:t.loading,"body-style":{padding:"0"}}},[a("div",{staticClass:"salesCard"},[a("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[a("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"汇总"}},[a("div",{staticStyle:{padding:"20px"}},[a("div",{staticStyle:{"margin-bottom":"20px",display:"flex","justify-content":"space-around","align-items":"center","flex-wrap":"nowrap","font-size":"16px","font-weight":"bold"}},[a("div",[t._v("学年学期："+t._s(t.data.school_year_name)+t._s(t.data.semester_name))]),a("div",[t._v(" 班级："+t._s(t.data.academic_stage_name)+" - "+t._s(t._f("userDictType")("grade_name",t.data.grade_name))),t.data.class_name?a("span",[t._v(" - "+t._s(t.data.class_name))]):t._e()]),a("div",[t._v("学生姓名："+t._s(t.data.student_name))])]),t.data?a("table",{staticStyle:{width:"100%","table-layout":"fixed","min-width":"900px"},attrs:{id:"myTable",border:"1"}},[a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{rowspan:4}},[t._v("音乐")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("态度")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("听")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("演唱")]),a("td",{staticStyle:{"text-align":"center",height:"40px"},attrs:{colspan:2}},[t._v("回答问题")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("创编")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("音准")])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_TD))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.level_Ting))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_YC))]),a("td",{staticStyle:{"text-align":"center",height:"48px"},attrs:{colspan:2}},[t._v(t._s(t.data.music_tatistics.levle_HDWT))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_CB))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_YZ))])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("节奏")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("歌词表达")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("流畅度")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("表现力")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("笔试")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("附加项")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("总等级")])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_JZ))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_GCBD))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_LCD))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_BXL))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_BS))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.levle_T))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.music_tatistics.total_level))])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{rowspan:7}},[t._v("体育")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("身高")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("体重")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("BMI")]),a("td",{staticStyle:{"text-align":"center",height:"40px"},attrs:{colspan:4}},[t._v("体重指数(BMI)参考值:")])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_H))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_W))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_B))]),a("td",{staticStyle:{"text-align":"center",height:"48px"},attrs:{colspan:4}})]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("视力")]),a("td",{staticStyle:{"text-align":"center",height:"40px"},attrs:{colspan:2}},[t._v("视力参考值")]),a("td",{staticStyle:{"text-align":"center",height:"40px"},attrs:{colspan:2}},[t._v("基本运动能力")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("体能1")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("体能2")])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_V))]),a("td",{staticStyle:{"text-align":"center",height:"48px"},attrs:{colspan:2}}),a("td",{staticStyle:{"text-align":"center",height:"48px"},attrs:{colspan:2}},[t._v(t._s(t.data.sports_tatistics.level_S3))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_S1))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_S2))])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"20px"},attrs:{colspan:2,rowspan:2}},[t._v("体育比赛")]),a("td",{staticStyle:{"text-align":"center",height:"20px"},attrs:{colspan:4}},[t._v("体育品德")]),a("td",{staticStyle:{"text-align":"center",height:"20px"},attrs:{rowspan:2}},[t._v("总等级")])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"20px"}},[t._v("体育品德")]),a("td",{staticStyle:{"text-align":"center",height:"20px"}},[t._v("考勤")]),a("td",{staticStyle:{"text-align":"center",height:"20px"}},[t._v("课堂及体育活动表现")]),a("td",{staticStyle:{"text-align":"center",height:"20px"}},[t._v("国家体质健康测试")])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"48px"},attrs:{colspan:2}},[t._v(t._s(t.data.sports_tatistics.levle_F))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_TM))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_TM_kq))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_TM_kt))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.level_TM_text))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.sports_tatistics.total_level))])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{rowspan:2}},[t._v("美术")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("笔试")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("绘画/手工")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("考勤")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("课堂表现")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("作业")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("附加分")]),a("td",{staticStyle:{"text-align":"center",height:"40px"}},[t._v("总等级")])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.arts_tatistics.level_BS))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.arts_tatistics.level_HH))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.arts_tatistics.level_KQ))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.arts_tatistics.level_KT))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.arts_tatistics.level_ZY1)+"/"+t._s(t.data.arts_tatistics.level_ZY2))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.arts_tatistics.level_F))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(t.data.arts_tatistics.total_level))])])])]):t._e()])]),a("a-tab-pane",{key:"2",attrs:{tab:"分析图表"}},[a("a-row",[a("div",{staticStyle:{float:"right","margin-right":"40px"}},[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.detailDrawer.show(t.queryParam,t.studentInfo,t.musicId,t.sportId,t.artId)}}},[t._v("详细")])],1)],1)]),t.parentData.length>0?a("a-row",[a("LineParent",{ref:"parentDataStatistics",attrs:{dataSource:t.parentData,idName:"parentDataStatistics"}})],1):a("a-row",[a("a-empty",{staticStyle:{margin:"40px 0"},attrs:{image:t.simpleImage}})],1),t.parentDiagram.length>0?a("a-row",[a("RadarParent",{ref:"parentDiagramStatistics",attrs:{dataSource:t.parentDiagram,idName:"parentDiagramStatistics"}})],1):a("a-row",[a("a-empty",{staticStyle:{margin:"40px 0"},attrs:{image:t.simpleImage}})],1)],1)],1)],1)])],1):t._e(),a("detailDrawer",{ref:"detailDrawer"})],1)},s=[],l=(a("06f4"),a("fc25")),n=(a("7db0"),a("d0fff")),r=a("16d2"),c=a("ad81"),d=a("2af9"),_=a("cfd3"),g=a("ec60"),h=a("2766"),o=a("d231"),p=a("725d"),x={components:{ClassSelect:c["a"],XCard:d["w"],LineParent:g["default"],RadarParent:h["default"],detailDrawer:o["default"]},data:function(){return{labelCol:{span:6},wrapperCol:{span:16},loading:!1,isEnter:!1,rules:{ysValue:[{required:!0,message:"请选择学年学期",trigger:"change"}],fwValue:[{required:!0,message:"请选择班级",trigger:"change"}],student_id:[{required:!0,message:"请选择学生",trigger:"change"}]},fieldNames:{label:"name",value:"id",children:"children"},formContent:{ysValue:[],fwValue:[]},tstyle:{"margin-bottom":"10px"},yearTree:[],studentList:[],queryParam:{},data:[],parentData:[],parentDiagram:[],simpleImage:null,musicId:null,sportId:null,artId:null,studentInfo:{}}},beforeCreate:function(){this.simpleImage=l["a"].PRESENTED_IMAGE_SIMPLE},created:function(){this.getChangeTypeTree(),this.getSubjectInfo(),this.isEnter=!1},methods:{getSubjectInfo:function(){var t=this;Object(p["h"])().then((function(e){if(e.success){var a=e.data,i=a.find((function(t){return"音乐"===t.subject_name}));i&&(t.musicId=i.id);var s=a.find((function(t){return"体育"===t.subject_name}));s&&(t.sportId=s.id);var l=a.find((function(t){return"美术"===t.subject_name}));l&&(t.artId=l.id)}}))},handleSubmit:function(){var t=this;this.loading=!0,this.$refs.ruleForm.validate((function(e){if(!e)return t.loading=!1,!1;var a=JSON.parse(JSON.stringify(t.formContent));a.fwValue&&a.fwValue.length?a.grade_id=a.fwValue[0]:delete a.grade_id,a.fwValue&&a.fwValue.length?a.class_id=a.fwValue[1]:delete a.class_id,delete a.fwValue,a.ysValue&&a.ysValue.length?a.school_year=a.ysValue[0]:delete a.school_year,a.ysValue&&a.ysValue.length?a.semester=a.ysValue[1]:delete a.semester,delete a.ysValue,t.queryParam.school_year=a.school_year,t.queryParam.semester=a.semester,t.queryParam.classSelData=[a.grade_id,a.class_id],t.queryParam.student_id=a.student_id,t.getStatistics(),t.getParentAPP(),t.isEnter=!0}))},getStudentList:function(t){var e=this;Object(_["g"])(t).then((function(t){t.success&&(e.studentList=t.data.rows)}))},changeGrade:function(t){var e={};t&&(2==t.length?e={grade_id:t[0],class_id:t[1]}:1==t.length&&(e={grade_id:t[0]}),this.getStudentList(e))},getStatistics:function(){var t=this,e=JSON.parse(JSON.stringify(this.queryParam));delete e.classSelData,Object(r["k"])(e).then((function(e){e.success&&(t.loading=!1,t.data=e.data)}))},getParentAPP:function(){var t=this,e=JSON.parse(JSON.stringify(this.queryParam));Object(r["q"])({student_id:e.student_id,school_year:e.school_year,semester:e.semester}).then((function(e){e.success&&(t.loading=!1,t.studentInfo={student_name:e.data.student_name,person_id:e.data.person_id},t.parentData=e.data.items,t.parentDiagram=e.data.network_diagram)}))},getChangeTypeTree:function(){var t=this;Object(n["g"])().then((function(e){t.yearTree=t.deleteChildren(e.data)}))},deleteChildren:function(t){for(var e=t,a=e.length;a--;a>0)e[a].children&&(e[a].children.length?this.deleteChildren(e[a].children):delete e[a].children);return t},goBack:function(){this.isEnter=!1,this.$forceUpdate()}}},u=x,v=a("0c7c"),y=Object(v["a"])(u,i,s,!1,null,null,null);e["default"]=y.exports}}]);