(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-793efe66"],{2316:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"d",(function(){return u}));var r=a("b775");function n(e){return Object(r["b"])({url:"/sysApp/page",method:"get",params:e})}function o(e){return Object(r["b"])({url:"/sysApp/list",method:"get",params:e})}function i(e){return Object(r["b"])({url:"/sysApp/add",method:"post",data:e})}function s(e){return Object(r["b"])({url:"/sysApp/edit",method:"post",data:e})}function l(e){return Object(r["b"])({url:"/sysApp/delete",method:"post",data:e})}function c(e){return Object(r["b"])({url:"/sysApp/setAsDefault",method:"post",data:e})}function u(e){return Object(r["b"])({url:"/sysApp/changeStatus",method:"post",data:e})}},"998b":function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return d}));var r=a("b775");function n(e){return Object(r["b"])({url:"/codeGenerate/page",method:"get",params:e})}function o(e){return Object(r["b"])({url:"/codeGenerate/add",method:"post",data:e})}function i(e){return Object(r["b"])({url:"/codeGenerate/edit",method:"post",data:e})}function s(e){return Object(r["b"])({url:"/codeGenerate/delete",method:"post",data:e})}function l(e){return Object(r["b"])({url:"/codeGenerate/InformationList",method:"get",params:e})}function c(e){return Object(r["b"])({url:"/codeGenerate/ColumnList/".concat(e),method:"get"})}function u(e){return Object(r["b"])({url:"/codeGenerate/runLocal",method:"post",data:e})}function d(e){return Object(r["b"])({url:"/codeGenerate/runDown",method:"get",params:e,responseType:"blob"})}},b237:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"新增代码生成配置",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"生成表","has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["tableName",{rules:[{required:!0,message:"请选择数据库表！"}]}],expression:"['tableName', {rules: [{ required: true, message: '请选择数据库表！' }]}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择数据库表"}},e._l(e.tableNameData,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.entityName},on:{click:function(a){return e.tableNameSele(t)}}},[e._v(e._s(t.tableName))])})),1)],1)],1),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"业务名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["busName",{rules:[{required:!0,message:"请输入业务名！"}]}],expression:"['busName', {rules: [{required: true, message: '请输入业务名！'}]}]"}],attrs:{placeholder:"请输入业务名"}})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单分类","has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["menuApplication",{rules:[{required:!0,message:"请选择应用分类！"}]}],expression:"['menuApplication', {rules: [{ required: true, message: '请选择应用分类！' }]}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择应用分类"}},e._l(e.appData,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.code},on:{click:function(a){return e.changeApplication(t.code)}}},[e._v(e._s(t.name))])})),1)],1)],1),a("a-col",{attrs:{md:12,sm:24}},[a("div",[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"父级菜单","has-feedback":""}},[a("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["menuPid",{rules:[{required:!0,message:"请选择父级菜单！"}]}],expression:"['menuPid', {rules: [{ required: true, message: '请选择父级菜单！' }]}]"}],staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"300px",overflow:"auto"},treeData:e.menuTreeData,placeholder:"请选择父级菜单",treeDefaultExpandAll:""},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.id;return a("span",{},[e._v(e._s(r)+" ")])}}])})],1)],1)])],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"命名空间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nameSpace",{rules:[{required:!0,message:"请输入命名空间！"}]}],expression:"['nameSpace', {rules: [{required: true, message: '请输入命名空间！'}]}]"}],attrs:{placeholder:"请输入代码包名"}})],1)],1),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"作者姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["authorName",{rules:[{required:!0,message:"请输入作者姓名！"}]}],expression:"['authorName', {rules: [{required: true, message: '请输入作者姓名！'}]}]"}],attrs:{placeholder:"请输入作者姓名"}})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"生成方式"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["generateType",{rules:[{required:!0,message:"请选择生成方式！"}]}],expression:"['generateType',{rules: [{ required: true, message: '请选择生成方式！' }]}]"}]},e._l(e.generateTypeData,(function(t,r){return a("a-radio",{key:r,attrs:{value:t.code},on:{click:function(a){return e.generateTypeRadio(t.code)}}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1)],1)],1)},n=[],o=(a("a434"),a("d3b7"),a("2316")),i=a("0bfe"),s=a("998b"),l={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,appData:[],menuTreeData:[],tableNameData:[],generateTypeData:[],confirmLoading:!1,tableNameValue:"",form:this.$form.createForm(this)}},methods:{add:function(){this.visible=!0,this.codeGenerateInformationList(),this.dataTypeItem(),this.selectedByDefault(),this.getSysApplist()},selectedByDefault:function(){this.form.getFieldDecorator("nameSpace",{initialValue:"Magic.Application"}),this.form.getFieldDecorator("generateType",{valuePropName:"checked",initialValue:"2"}),this.form.getFieldDecorator("authorName",{initialValue:"Magic"}),this.form.getFieldDecorator("menuApplication",{initialValue:"office"}),this.changeApplication("office")},codeGenerateInformationList:function(){var e=this;Object(s["e"])().then((function(t){e.tableNameData=t.data}))},getSysApplist:function(){var e=this;return Object(o["a"])().then((function(t){t.success?e.appData=t.data:e.$message.warning(t.message)}))},dataTypeItem:function(){this.tablePrefixData=this.$options.filters["dictData"]("yes_or_no"),this.generateTypeData=this.$options.filters["dictData"]("code_gen_create_type"),this.generateTypeData.splice(0,1)},handleSubmit:function(){var e=this,t=this.form.validateFields;t((function(t,a){t||(e.confirmLoading=!0,Object(s["a"])(a).then((function(t){t.success?(e.$message.success("新增成功"),e.$emit("ok",a),e.handleCancel()):e.$message.error("新增失败："+t.message)})).finally((function(t){e.confirmLoading=!1})))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1,this.form.getFieldDecorator("className",{initialValue:""}),this.form.getFieldDecorator("busName",{initialValue:""})},tableNameSele:function(e){this.tableNameValue=e.tableName,this.form.getFieldDecorator("busName",{initialValue:e.tableComment})},changeApplication:function(e){var t=this;Object(i["c"])({terminal:"1",application:e}).then((function(e){e.success?(t.menuTreeData=[{id:"-1",parentId:"0",title:"顶级",value:"0",pid:"0",children:e.data}],t.form.getFieldDecorator("menuPid",{initialValue:"0"})):t.$message.warning(e.message)}))},settingDefaultValue:function(){},generateTypeRadio:function(e){}}},c=l,u=a("0c7c"),d=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=d.exports}}]);