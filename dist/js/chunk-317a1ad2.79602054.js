(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-317a1ad2"],{"16ac":function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{attrs:{id:"map"}},[e("a-drawer",{attrs:{title:"图元属性",placement:"right",width:600,closable:!1,visible:a.drawerVisible,"get-container":!1,"wrap-style":{position:"absolute"}},on:{close:a.onCloseDrawer}},[e("p",[a._v(a._s(a.geosjonData))])])],1)])},i=[],n=(e("d81d"),e("a434"),e("e11e")),r=e.n(n),s=e("2699"),l=e("a40a"),m=e("4e2b"),p=e("9ee8"),c=(e("6cc5"),e("5092"),e("9a51"),{name:"Map",components:{LMap:s["a"],LTileLayer:l["a"],LMarker:m["a"],LControlLayers:p["a"]},data:function(){return{map:"",drawerVisible:!1,geosjonData:""}},mounted:function(){this.initMap(),this.initMapPm(),this.getlatLngs()},methods:{initMap:function(){this.map=r.a.map("map",{center:[39.064576,117.06969],zoom:15,zoomControl:!0,doubleClickZoom:!0,attributionControl:!1});var a={"高德/卫星":r.a.layerGroup([r.a.tileLayer("https://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",{maxZoom:20,maxNativeZoom:18,minZoom:3,attribution:"高德地图 AutoNavi.com",subdomains:"1234"}),r.a.tileLayer("https://webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}",{maxZoom:20,maxNativeZoom:18,minZoom:3,attribution:"高德地图 AutoNavi.com",subdomains:"1234",opacity:.5})]).addTo(this.map),"高德/街道":r.a.tileLayer("https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",{maxZoom:20,maxNativeZoom:18,minZoom:3,attribution:"高德地图 AutoNavi.com",subdomains:"1234"}),"智图/街道":r.a.tileLayer("https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,maxNativeZoom:16,minZoom:3,attribution:"智图 GeoQ.cn"})};r.a.control.layers(a,{},{position:"topright",collapsed:!0}).addTo(this.map)},initMapPm:function(){this.map.pm.addControls({position:"topleft",drawPolygon:!0,drawMarker:!0,drawCircleMarker:!0,drawPolyline:!0,drawRectangle:!0,drawCircle:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0}),this.map.pm.setPathOptions({color:"orange",fillColor:"green",fillOpacity:.4}),this.map.pm.setLang("zh")},getlatLngs:function(){var a=this;this.map.on("pm:drawstart",(function(a){})),this.map.on("pm:drawend",(function(a){})),this.map.on("pm:create",(function(t){a.GetGeoJson()}))},GetGeoJson:function(){var a=[];this.map.eachLayer((function(t){"undefined"!==t.pm&&null!=t.pm&&""!==t.pm&&!1===t.pm._enabled&&!0===t.pm.options.draggable&&a.push(t)}));for(var t=r.a.layerGroup(a).toGeoJSON(),e=0;e<t.features.length;e++)for(var o=JSON.stringify(t.features[e]),i=e+1;i<t.features.length;i++){var n=JSON.stringify(t.features[i]);o===n&&t.features.splice(e,1)}return this.drawerVisible=!0,this.geosjonData=t,t},onCloseDrawer:function(){this.drawerVisible=!1}}}),u=c,d=(e("3d2d"),e("0c7c")),h=Object(d["a"])(u,o,i,!1,null,null,null);t["default"]=h.exports},"3d2d":function(a,t,e){"use strict";e("69a9")},"69a9":function(a,t,e){}}]);