(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df854"],{"89eb":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("a-modal",{attrs:{title:e.title,width:800,visible:e.visible},on:{cancel:e.handleCancel,ok:e.handleSubmit}},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,rules:e.rules}},[t("a-form-model-item",{attrs:{label:"用户",prop:"userIds"}},[t("MyUserSelect",{attrs:{placeholder:"请选择用户"},model:{value:e.form.userIds,callback:function(s){e.$set(e.form,"userIds",s)},expression:"form.userIds"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("a-button",{key:"back",on:{click:e.handleCancel}},[e._v(" 取消 ")]),t("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("确定 ")])],1)],1)},l=[],a=(t("a15b"),t("0901")),o=t("469e"),i={components:{MyUserSelect:o["a"]},data:function(){return{title:"添加",labelCol:{span:5},wrapperCol:{span:16},visible:!1,loading:!1,rules:{userIds:[{required:!0,message:"请选择用户",trigger:"change"}]},form:{sysRoleId:null,userIds:null}}},methods:{add:function(e){this.title="添加",this.visible=!0,this.loading=!1,this.form=Object.assign({},this.$options.data().form),this.form.sysRoleId=e},handleSubmit:function(){var e=this;this.loading=!0,this.$refs.ruleForm.validate((function(s){if(!s)return e.loading=!1,!1;var t=JSON.parse(JSON.stringify(e.form));t.userIds?t.userIds=Array.isArray(t.userIds)?t.userIds.join("|"):t.userIds:delete t.userIds,Object(a["b"])(t).then((function(s){s.success?(e.visible=!1,e.$message.success("添加成功！"),e.$emit("ok")):(e.loading=!1,e.$message.error("添加失败！"))}))}))},handleCancel:function(){this.visible=!1}}},n=i,d=t("0c7c"),u=Object(d["a"])(n,r,l,!1,null,null,null);s["default"]=u.exports}}]);