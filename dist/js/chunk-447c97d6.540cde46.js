(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-447c97d6","chunk-2d224c2b"],{"6d46":function(t,e,n){"use strict";n("e0b6")},"71e2":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{destroyOnClose:!0,title:t.modalTitle,width:900,visible:t.visible,bodyStyle:t.bodyStyle,footer:null},on:{cancel:t.handleCancel}},[n("a-card",{attrs:{bordered:!1}},[1==t.form.question_type||2==t.form.question_type?n("div",{staticStyle:{background:"#f4f4f4",padding:"15px 15px 15px 0","margin-bottom":"15px","border-radius":"10px"}},[n("a-row",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"flex",align:"middle"}},[n("a-col",{staticStyle:{"text-align":"right"},attrs:{span:3}},[t._v("题干：")]),n("a-col",{attrs:{span:18}},[n("div",{staticClass:"myText",domProps:{innerHTML:t._s(t.form.stem)},on:{click:function(e){return t.$refs.editorModal.showModal("stem",t.form.stem)}}})]),n("a-col",{attrs:{span:3}},[n("a-checkbox",{staticStyle:{"margin-left":"10px"},attrs:{checked:!!Number(t.form.must_answer)},on:{change:t.onChangeMustAnswer}},[t._v("必答")])],1)],1),n("div",[t._l(t.form.questionnaire_question_option,(function(e,i){return n("a-row",{key:e.id||e.key,staticStyle:{"margin-bottom":"15px"}},[n("a-col",{staticStyle:{"text-align":"right"},attrs:{span:3}},[t._v("选项"+t._s(String.fromCharCode(Number(i)+65))+"：")]),n("a-col",{attrs:{span:14}},[n("span",{staticClass:"myText",domProps:{innerHTML:t._s(e.content)},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.$refs.editorModal.showModal("questionnaire_question_option",e.content,i)}}})]),n("a-col",{attrs:{span:4}},[n("a-checkbox",{staticStyle:{margin:"8px 0 0 15px"},attrs:{checked:JSON.parse(e.is_fill)},on:{change:function(n){return t.onChangeFill(n,e)}}},[t._v("可否填空")])],1),n("a-col",{attrs:{span:3}},[n("a-button",{staticStyle:{margin:"8px 0 0 25px"},attrs:{type:"danger",shape:"circle",icon:"close"},on:{click:function(n){return t.removeOption(e)}}})],1)],1)})),1==t.form.question_type||2==t.form.question_type||4==t.form.question_type?n("a-button",{staticStyle:{width:"80%","margin-left":"88px"},attrs:{type:"dashed"},on:{click:t.addOption}},[n("a-icon",{attrs:{type:"plus"}}),t._v("添加选项")],1):t._e()],2)],1):t._e(),3==t.form.question_type||4==t.form.question_type||5==t.form.question_type?n("div",[n("p",[t._v("请在下方输入题干内容："),n("span",{directives:[{name:"show",rawName:"v-show",value:4==t.form.question_type,expression:"form.question_type == 4"}]},[t._v("（中间需要填空的请点击“插入填空符”按钮）"),n("a-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:t.insertBlankFn}},[t._v("插入填空符")])],1)]),n("j-editor",{attrs:{editorHeight:320},on:{onClick:t.onClickEditor},model:{value:t.form.stem,callback:function(e){t.$set(t.form,"stem",e)},expression:"form.stem"}}),n("a-checkbox",{staticStyle:{"margin-top":"20px"},attrs:{checked:!!Number(t.form.must_answer)},on:{change:t.onChangeMustAnswer}},[t._v("必答")])],1):t._e(),n("div",{staticClass:"btn"},[n("a-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("保存")]),n("a-button",{staticStyle:{"margin-left":"20px"},on:{click:t.handleCancel}},[t._v("关闭")])],1),n("EditorModal",{ref:"editorModal",on:{ok:t.handleOK}})],1)],1)},o=[],s=(n("a434"),n("159b"),n("e562")),a=n.n(s),r=n("0b996"),l=n("e208"),c={name:"SubjectAddEditModal",components:{EditorModal:l["default"],JEditor:r["a"]},data:function(){return{visible:!1,bodyStyle:{padding:"0"},modalWidth:800,radioStyle:{display:"block",height:"40px",lineHeight:"40px",marginBottom:"30px"},editorID:null,form:{question_type:1,stem:"",must_answer:0,questionnaire_question_option:[{key:Date.now(),content:"",sort:1,is_fill:!1}]}}},computed:{modalTitle:function(){return 1===this.form.question_type?"单选题":2===this.form.question_type?"多选题":3===this.form.question_type?"判断题":4===this.form.question_type?"填空题":5===this.form.question_type?"问答题":"题目"}},created:function(){},methods:{add:function(t){this.form=Object.assign({},this.$options.data().form),this.form.question_type=t,this.visible=!0},edit:function(t){var e=JSON.parse(JSON.stringify(t));this.form=e,this.visible=!0},handleSubmit:function(){var t=JSON.parse(JSON.stringify(this.form));this.$emit("ok",t),this.visible=!1},handleCancel:function(){this.visible=!1},removeOption:function(t){var e=this.form.questionnaire_question_option.indexOf(t);-1!==e&&(this.form.questionnaire_question_option.splice(e,1),this.form.questionnaire_question_option.forEach((function(t,e){t.sort=e+1})))},addOption:function(){this.form.questionnaire_question_option.push({key:Date.now(),content:"",is_fill:!1,sort:this.form.questionnaire_question_option.length+1})},handleOK:function(t){"undefined"===typeof t.index?this.form[t.key]=t.val:this.form[t.key][t.index]["content"]=t.val},onChangeMustAnswer:function(t){this.form.must_answer=t.target.checked?1:0},onChangeFill:function(t,e){e.is_fill=t.target.checked},onClickEditor:function(t,e){this.editorID=e},insertBlankFn:function(){a.a.editors[this.editorID].insertContent("_")}}},d=c,u=(n("6d46"),n("0c7c")),h=Object(u["a"])(d,i,o,!1,null,"52933e58",null);e["default"]=h.exports},e0b6:function(t,e,n){},e208:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{title:"编辑内容",width:t.modalWidth,destroyOnClose:!0},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("j-editor",{attrs:{editorHeight:t.editorHeight},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)},o=[],s=n("0b996"),a={components:{JEditor:s["a"]},data:function(){return{isShow:!1,visible:!1,editorHeight:500,modalWidth:900,content:"",key:"",index:""}},created:function(){},methods:{showModal:function(t,e,n){this.isShow=!0,this.visible=!0,this.content=e,this.key=t,this.index=n},handleOk:function(t){this.isShow=!1,this.visible=!1,this.$emit("ok",{key:this.key,val:this.content,index:this.index})},handleCancel:function(){this.isShow=!1,this.visible=!1}}},r=a,l=n("0c7c"),c=Object(l["a"])(r,i,o,!1,null,null,null);e["default"]=c.exports}}]);