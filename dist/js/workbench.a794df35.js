(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workbench"],{"29e5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"workbench"},[t._m(0),a("div",{staticClass:"content1 pt20"},[a("div",{staticClass:"mauto flex",staticStyle:{width:"1300px"}},[a("div",{staticClass:"flex2 mr10"},[a("div",{staticClass:"w100 bgwhite radius8 plr20 pt15"},[a("div",{staticClass:"subtitle"},[t._v("业务应用")]),a("div",{staticClass:"flex wraps pt20"},t._l(t.businessApp,(function(e,s){return a("div",{key:s,staticClass:"tc mb20 pointer",staticStyle:{width:"16.6%"},attrs:{title:e.name},on:{click:function(a){return t.goTo(e)}}},[a("img",{staticClass:"w55",attrs:{src:t.prefix+e.img}}),a("div",{staticClass:"mt10 bold ft16"},[t._v(t._s(e.name))])])})),0)]),a("div",{staticClass:"w100 bgwhite radius8 plr20 ptb15 mt10"},[a("div",{staticClass:"subtitle"},[t._v("常用链接")]),a("div",{staticClass:"flex wraps pt5 pb15 pr20"},t._l(t.commonLinks,(function(e,s){return a("div",{key:s,staticClass:"w30 ht80 tc mt20 pointer cardshadow",staticStyle:{"margin-left":"3%","line-height":"80px"},attrs:{title:e.name},on:{click:function(a){return t.goTo(e)}}},[a("img",{staticClass:"w80 h60",attrs:{src:t.prefix+e.img}})])})),0)])]),a("div",{staticClass:"flex1"},[t.token?a("div",{staticClass:"posRelt w100 bgwhite radius8 plr20 ptb15 flex jscenter"},[a("img",{staticClass:"wt90 ht90 radius50",attrs:{src:"/avatar.webp"}}),a("div",{staticClass:"wt140 ml20 flex column jscenter"},[a("div",{staticClass:"bold ft18"},[t._v(t._s(t.userInfo&&t.userInfo.name))]),a("div",{staticClass:"mt5"},[t._v(t._s(t.userInfo&&t.userInfo.loginEmpInfo&&t.userInfo.loginEmpInfo.orgName))])]),a("a-button",{staticStyle:{position:"absolute",right:"10px",top:"10px"},attrs:{icon:"logout",size:"small"},on:{click:t.handleLogout}},[t._v("退出")])],1):a("div",{staticClass:"w100 bgwhite radius8 plr20 ptb15"},[a("div",{staticClass:"subtitle mauto tc"},[t._v("请登录")]),a("div",{staticClass:"plr20 pt15"},[t.accountLoginErrMsg?a("a-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"error",message:t.accountLoginErrMsg,showIcon:""}}):t._e(),a("a-form-model",{ref:"ruleForm",attrs:{model:t.formContent,rules:t.rules},nativeOn:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("a-form-model-item",{staticStyle:{"margin-bottom":"5px"},attrs:{prop:"account"}},[a("a-input",{attrs:{placeholder:"请输入账号",allowClear:!0},model:{value:t.formContent.account,callback:function(e){t.$set(t.formContent,"account",e)},expression:"formContent.account"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-model-item",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"password"}},[a("a-input-password",{attrs:{placeholder:"请输入密码",allowClear:!0},model:{value:t.formContent.password,callback:function(e){t.$set(t.formContent,"password",e)},expression:"formContent.password"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-model-item",{staticStyle:{"margin-bottom":"0px"}},[a("a-button",{staticStyle:{"background-color":"#1890ff",color:"#fff"},attrs:{block:"",icon:"check",shape:"round","html-type":"submit",loading:t.loginState,disabled:t.loginState}},[t._v(" 确定 ")])],1)],1)],1)]),a("div",{staticClass:"w100 bgwhite radius8 plr20 ptb15 mt10"},[a("div",{staticClass:"flex between"},[a("div",{staticClass:"subtitle",staticStyle:{width:"120px"}},[t._v("学校工作计划")]),a("div",{staticClass:"bold fr"},[t._v(t._s(t.workPlan.time)+"年")])]),a("div",{staticClass:"pt20 flex between"},t._l(t.workPlan.date,(function(e,s){return a("div",{key:s,staticClass:"tc ft12 gray0 pointer ptb5 listItem",class:e.sel?"sel":"",staticStyle:{width:"12%"},on:{click:function(a){return t.onSelWorkPlanDate(e)}}},[a("div",[t._v(t._s(e.week))]),a("div",[t._v(t._s(e.day))])])})),0),a("div",{staticClass:"pl10 pt10",staticStyle:{"overflow-y":"auto"},style:{height:t.token?"490px":"400px"}},[t._l(t.workPlan.plan,(function(e,s){return a("div",{key:s,staticClass:"ptb10 plr15 mt10 radius4 bgblue3",style:{background:t.workPlan.color[s%4]}},[a("a-tooltip",[a("template",{slot:"title"},[t._v(" 【地点 : "+t._s(e.address||"--")+"】 "),a("br"),t._v(" 【责任人 : "+t._s(e.person_responsible||"--")+"】 ")]),a("div",[t._v(t._s(s+1)+"、"+t._s(e.project))])],2)],1)})),t.workPlan.plan.length?t._e():a("a-empty",{staticStyle:{"margin-top":"30px"}})],2)])])])]),a("FriendshipLink"),t._m(1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top"},[a("div",{staticClass:"h100 mauto flex alcenter",staticStyle:{width:"1300px"}},[a("img",{staticClass:"logo",attrs:{src:"/logo.webp",alt:""}}),a("div",{staticClass:"title"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"copyright"}},[a("div",{staticClass:"container flex jscenter alcenter"},[a("div",{staticClass:"tc"},[a("img",{staticClass:"wt60",attrs:{src:"/logo.webp"}}),a("a",{attrs:{href:"https://bszs.conac.cn/sitename?method=show&id=07CE33AB6EAF1E2CE053022819AC2EA0",target:"_blank"}},[a("img",{attrs:{src:"/workbench/blue.webp",alt:""}})])]),a("div",{staticClass:"mlr50"},[a("div",{staticClass:"ptb5"},[t._v("主办单位 : 山东省东营市晨阳学校")]),a("div",{staticClass:"ptb5"},[t._v("学校地址 : 山东省东营市东营区胜利大街222号")]),a("div",{staticClass:"ptb5"},[t._v("《中华人民共和国电信与信息服务业务经营许可证》 鲁ICP备10004178号-1")])]),a("div",{staticClass:"tc"},[a("img",{staticClass:"wt80",attrs:{src:"/workbench/gzh.webp"}}),a("div",{staticClass:"ft12"},[t._v("学校公众号")])]),a("div",{staticClass:"tc ml20"},[a("img",{staticClass:"wt80",attrs:{src:"/workbench/app.webp"}}),a("div",{staticClass:"ft12"},[t._v("教育新生态APP")])])])])}],i=(a("dc5a"),a("56cd")),o=a("f3f3"),r=(a("99af"),a("159b"),a("d3b7"),a("b0c0"),a("2b0e")),c=a("c1df"),l=a.n(c),p=a("a18c"),d=a("4360"),u=a("9fb0"),m=a("2f62"),f=a("ca00"),w=a("79b5"),h=a("a62f"),b={name:"Workbench",components:{FriendshipLink:h["default"]},data:function(){return{prefix:window._CONFIG.cdnPrefix,businessApp:[{name:"文件办公",img:"workbench/wjbg.webp",appCode:"documentOffice",url:"/welcome",insideApp:!0},{name:"后勤管理",img:"workbench/bxxt.webp",appCode:"logisticsManagement",url:"/welcome",insideApp:!0},{name:"获奖管理",img:"workbench/hjgl.webp",appCode:"awardManagement",url:"/welcome",insideApp:!0},{name:"安全台账",img:"workbench/aqtz.webp",appCode:"safetyLedger",url:"/welcome",insideApp:!0},{name:"学科资源库",img:"workbench/xkzyk.webp",url:"http://172.138.51.190:3000/",insideApp:!1},{name:"录播资源库",img:"workbench/lbzyk.webp",url:"http://172.138.51.191/",insideApp:!1},{name:"学生素质评价",img:"workbench/ytmpj.webp",appCode:"evaluate",url:"/welcome",insideApp:!0},{name:"班级考核",img:"workbench/bjkh.webp",appCode:"assessment",url:"/welcome",insideApp:!0},{name:"家校共育",img:"workbench/jxgy.webp",appCode:"homeSchoolInteraction",url:"/welcome",insideApp:!0},{name:"智慧体育",img:"workbench/zhty.webp",url:"https://www.jyyun.com/",insideApp:!1},{name:"近视防控",img:"workbench/jsfk.webp",url:"http://chedu-sh.com/#/login",insideApp:!1},{name:"学籍管理",img:"workbench/xjgl.webp",url:"https://sdbe.sdei.edu.cn/zxxj/web/index/index.htm#",insideApp:!1},{name:"融课平台",img:"workbench/rkpt.webp",url:"https://rongke.plaso.cn/school/w/portal/#/login?orgId=505695687871077",insideApp:!1},{name:"AI智能分析平台",img:"workbench/znfxpt.webp",url:"http://172.138.51.192/",insideApp:!1},{name:"东师理想",img:"workbench/dslx.webp",url:"https://www.edusoa.com/dsideal_yy/html/jcy/dycy/index.html",insideApp:!1},{name:"云阅卷",img:"workbench/yyj.webp",url:"http://sd.yunyuejuan.net/index",insideApp:!1},{name:"联考平台",img:"workbench/lkpt.webp",url:"http://172.138.51.180:8080/",insideApp:!1}],commonLinks:[{name:"学校官方网站",img:"workbench/xxgfwz.webp",url:"http://www.dycyxx.net/"},{name:"国家智慧教育公共服务平台",img:"workbench/gjzhjyggfwpt.webp",url:"https://basic.smartedu.cn/"},{name:"菁优网",img:"workbench/jyw1.webp",url:"https://www.jyeoo.com/"},{name:"学科网",img:"workbench/xkw.webp",url:"https://www.zxxk.com/"},{name:"教研网",img:"workbench/jyw2.webp",url:"http://www.zgjiaoyan.com/"},{name:"东营市专业技术人员公需科目培训平台",img:"workbench/dyszyjsrygxkmpxpt.webp",url:"http://sddy.gxk.yxlearning.com/index"}],workPlan:{time:"",date:[],color:["#acdac9","#ddebc2","#fcd3b6","#ffc7c1"],plan:[]},formContent:{},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loginState:!1,accountLoginErrMsg:"",userInfo:{}}},computed:Object(o["a"])({},Object(m["c"])(["token"])),created:function(){this.getDate(),this.userInfo=r["default"].ls.get("UserInfo")||{}},methods:Object(o["a"])(Object(o["a"])({},Object(m["b"])(["Login","Logout","GetInfo","MenuChange","dictTypeData","allUserData","dictTypeUserData","AllRoleData","AllOrgData","GetrCurrentYearSemester"])),{},{timeFix:f["f"],goTo:function(t){if(t.insideApp)if(t.url)if(this.token)if(t.appCode){var e=this.$router.resolve({path:"".concat(t.url,"?appCode=").concat(t.appCode)});window.open(e.href,"_blank")}else{var a=this.$router.resolve({path:t.url});window.open(a.href,"_blank")}else this.$message.warning("请先登录");else this.$warning({title:"正在开发中",content:"请等待开发完成....",okText:"关闭",maskClosable:!0,footer:null});else window.open(t.url,"_blank")},getDate:function(){var t=l()().format("YYYY-MM-DD"),e=l()().day(1),a=l()().format("MM-DD"),s=["周一","周二","周三","周四","周五","周六","周日"];this.workPlan.time=l()().format("YYYY");for(var n=0;n<7;n++){var i=e.clone().add(n,"day");this.workPlan.date.push({week:s[n],year:i.format("YYYY"),day:i.format("MM-DD"),yearMonthDay:i.format("YYYY-MM-DD"),sel:a===i.format("MM-DD")})}this.getSchoolWorkPlan(t)},onSelWorkPlanDate:function(t){if(t.sel)return!1;this.workPlan.date.forEach((function(t){t.sel=!1})),t.sel=!0,this.workPlan.time=t.year,this.getSchoolWorkPlan(t.yearMonthDay)},getSchoolWorkPlan:function(t){var e=this,a={sortOrder:"descend",sortField:"add_time",date_start:t,date_end:t};Object(w["d"])(a).then((function(t){if(t.success){var a=t.data.rows||[],s=[];a.forEach((function(t){t.projects&&t.projects.forEach((function(t){s.push(t)}))})),e.workPlan.plan=s}}))},handleSubmit:function(t){var e=this;t.preventDefault(),this.$refs.ruleForm.validate((function(t){if(!t)return setTimeout((function(){e.loginState=!1}),600),!1;var a=JSON.parse(JSON.stringify(e.formContent));e.loginState=!0,e.Login(a).then((function(t){return e.loginSuccess(t)})).catch((function(t){return e.requestFailed(t)})).finally((function(){e.loginState=!1}))}))},loginSuccess:function(){var t=this;this.accountLoginErrMsg="",this.GetInfo().then((function(e){t.userInfo=e;var a,s=r["default"].ls.get(u["b"]);if(null==s){var n=[];e.apps.forEach((function(t){var s={code:"",name:"",active:"",menu:""};t.active?(s.code=t.code,s.name=t.name,s.active=t.active,s.menu=e.menus,a=e.menus):(s.code=t.code,s.name=t.name,s.active=t.active,s.menu=""),n.push(s)})),r["default"].ls.set(u["b"],n,6048e5),setTimeout((function(){i["a"].success({message:"欢迎",description:"".concat(Object(f["f"])(),"，欢迎回来")})}),1e3)}a=r["default"].ls.get("ALL_Route"),d["a"].dispatch("GenerateRoutes",{antDesignmenus:a}).then((function(){p["a"].addRoutes(d["a"].getters.addRouters)}))})),this.dictTypeData().then((function(t){})),this.allUserData().then((function(t){})),this.dictTypeUserData().then((function(t){})),this.GetrCurrentYearSemester().then((function(t){}))},requestFailed:function(t){this.accountLoginErrMsg=t},handleLogout:function(){var t=this;this.$confirm({title:"提示",content:"真的要注销登录吗 ?",okText:"确定",cancelText:"取消",onOk:function(){return t.Logout({}).then((function(){setTimeout((function(){window.location.reload()}),16)})).catch((function(e){t.$message.error({title:"错误",description:e.message})}))},onCancel:function(){}})}})},g=b,v=(a("7374"),a("0c7c")),k=Object(v["a"])(g,s,n,!1,null,"59a69c9d",null);e["default"]=k.exports},7374:function(t,e,a){"use strict";a("8694")},8694:function(t,e,a){}}]);