(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2132bc"],{ac15:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{padding:"0 0 32px 32px"}},[i("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:t.idName}})])},n=[],r=(i("d81d"),i("b0c0"),i("4de4"),{props:{idName:{type:String,default:"lineStackingItem"},title:{type:String,default:""},dataSource:{type:Object,required:!0},color:{type:Array,required:!0},lineTitle:{type:String,default:""}},data:function(){return{}},mounted:function(){this.initEcharts()},methods:{initEcharts:function(){var t=this.$echarts.init(document.getElementById(this.idName));t.clear();this.color;var e=[],i=["学期初","学期末"],a=[],n=[],r=[];r=-1!==this.title.indexOf("BMI")?["学期初正常","学期初低体重","学期初超重","学期初肥胖","学期末正常","学期末低体重","学期末超重","学期末肥胖"]:-1!==this.title.indexOf("视力")?["学期初A","学期初B","学期初C","学期末A","学期末B","学期末C"]:["学期初A","学期初B","学期初C","学期初D","学期末A","学期末B","学期末C","学期末D"];var p=this.dataSource.item;if(p&&p.length>0)var l=p.map((function(t){return t.name}));if(this.dataSource.itemEnd){if(this.dataSource.itemEnd.length>0){var o=this.dataSource.itemEnd;if(-1!==this.title.indexOf("BMI")){n[0]=p.map((function(t){return{value:t.percentA,year:"学期初",type:"正常"}})),n[1]=p.map((function(t){return{value:t.percentB,year:"学期初",type:"低体重"}})),n[2]=p.map((function(t){return{value:t.percentC,year:"学期初",type:"超重"}})),n[3]=p.map((function(t){return{value:t.percentD,year:"学期初",type:"肥胖"}})),n[4]=o.map((function(t){return{value:t.percentA,year:"学期末",type:"正常"}})),n[5]=o.map((function(t){return{value:t.percentB,year:"学期末",type:"低体重"}})),n[6]=o.map((function(t){return{value:t.percentC,year:"学期末",type:"超重"}})),n[7]=o.map((function(t){return{value:t.percentD,year:"学期末",type:"肥胖"}})),a.push({data:["学期初正常","学期初低体重","学期初超重","学期初肥胖"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:0}),a.push({data:["学期末正常","学期末低体重","学期末超重","学期末肥胖"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:30});for(var u=0;u<r.length;u++)e.push({name:r[u],type:"line",label:{show:!0,position:"top",formatter:function(t){return t.value+"%"}},data:n[u]})}else if(-1!==this.title.indexOf("视力")){n[0]=p.map((function(t){return{value:t.percentA,year:"学期初",type:"A"}})),n[1]=p.map((function(t){return{value:t.percentB,year:"学期初",type:"B"}})),n[2]=p.map((function(t){return{value:t.percentC,year:"学期初",type:"C"}})),n[3]=o.map((function(t){return{value:t.percentA,year:"学期末",type:"A"}})),n[4]=o.map((function(t){return{value:t.percentB,year:"学期末",type:"B"}})),n[5]=o.map((function(t){return{value:t.percentC,year:"学期末",type:"C"}})),a.push({data:["学期初A","学期初B","学期初C"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:0}),a.push({data:["学期末A","学期末B","学期末C"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:30});for(u=0;u<r.length;u++)e.push({name:r[u],type:"line",label:{show:!0,position:"top",formatter:function(t){return t.value+"%"}},data:n[u]})}}}else{a.push({itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},data:["A","B","C","D"]}),n[0]=p.map((function(t){return{value:t.percentA}})),n[1]=p.map((function(t){return{value:t.percentB}})),n[2]=p.map((function(t){return{value:t.percentC}})),n[3]=p.map((function(t){return{value:t.percentD}}));for(u=0;u<a[0].data.length;u++)e.push({name:a[0].data[u],type:"line",label:{show:!0,position:"top",formatter:function(t){return t.value+"%"}},data:n[u]})}var d={title:{text:this.lineTitle,textStyle:{fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var e="<div>"+t[0].name+"</div>";if(t[0].data.year)for(var a=i.map((function(e){return t.filter((function(t){return t.data.year===e}))})),n=0;n<a.length;n++){e+='<div style="margin: 5px 0">'+i[n]+"</div>";for(var r=0;r<a[n].length;r++)0!=r&&r%2!=0||(r+1<a[n].length?e+='<div style="display: flex; width: 200px; margin: 5px auto" ><div style="margin-right: 5px; width: 80px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a[n][r].color+'"></span><span style="margin-right:5px">'+a[n][r].data.type+":</span>"+a[n][r].data.value+'%</div><div style="width: 80px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a[n][r+1].color+'"></span><span style="margin-right:5px">'+a[n][r+1].data.type+":</span>"+a[n][r+1].data.value+"%</div></div>":e+='<div style="display: flex; width: 200px; margin: 5px auto" ><div style="margin-right: 5px; width: 80px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a[n][r].color+'"></span><span style="margin-right:5px">'+a[n][r].data.type+":</span>"+a[n][r].data.value+"%</div></div>")}else for(var p=0;p<t.length;p++)e+='<p><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t[p].color+'"></span><span style="margin-right:5px">'+t[p].seriesName+":</span>"+t[p].data.value+"%</p>";return e}},legend:a,grid:{top:90,left:"3%",right:"4%",bottom:"5%",containLabel:!0},xAxis:{type:"category",data:l,axisLabel:{fontSize:14,interval:0,formatter:function(t){var e="",i=t.length,a=3;return e=i>a?t.substring(0,a)+"\n"+t.substring(3,i):t,e}},axisTick:{show:!0}},yAxis:{type:"value",name:"占比",max:100,min:0,interval:20,axisLabel:{formatter:function(t,e){return t?"".concat(t,"%"):t}},splitLine:{show:!0}},series:e};d&&t.setOption(d,!0),this.$nextTick((function(){t.resize()}))}}}),p=r,l=i("0c7c"),o=Object(l["a"])(p,a,n,!1,null,null,null);e["default"]=o.exports}}]);