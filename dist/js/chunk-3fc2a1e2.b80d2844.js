(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fc2a1e2"],{1889:function(e,t,r){"use strict";r("2245")},2245:function(e,t,r){},"4f74":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.hasPerm("sysArticle:page")?r("x-card",[r("div",{staticClass:"table-page-search-wrapper",attrs:{slot:"content"},slot:"content"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"关键词"}},[r("a-input",{attrs:{"allow-clear":"",placeholder:"请输入标题、内容"},model:{value:e.queryParam.searchValue,callback:function(t){e.$set(e.queryParam,"searchValue",t)},expression:"queryParam.searchValue"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"类型"}},[r("a-select",{attrs:{placeholder:"请选择类型","allow-clear":""},model:{value:e.queryParam.type,callback:function(t){e.$set(e.queryParam,"type",t)},expression:"queryParam.type"}},e._l(e.typeDictTypeDropDown,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)],1)],1)],1)]):e._e(),r("a-card",{attrs:{bordered:!1}},[r("s-table",{ref:"table",attrs:{columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.id},rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"type",fn:function(t){return r("span",{},[e._v(" "+e._s(e.typeFilter(t))+" ")])}},{key:"action",fn:function(t,a){return r("span",{},[r("div",[e.hasPerm("sysArticle:detail")?r("a",{on:{click:function(t){return e.$refs.detailForm.detail(a)}}},[e._v("查看")]):e._e(),e.hasPerm("sysArticle:detail")&e.hasPerm("sysArticle:edit")?r("a-divider",{attrs:{type:"vertical"}}):e._e(),e.hasPerm("sysArticle:edit")?r("a",{on:{click:function(t){return e.$refs.editForm.edit(a)}}},[e._v("编辑")]):e._e(),e.hasPerm("sysArticle:detail")&e.hasPerm("sysArticle:delete")?r("a-divider",{attrs:{type:"vertical"}}):e._e(),e.hasPerm("sysArticle:delete")?r("a-popconfirm",{attrs:{placement:"topRight",title:"确认删除？"},on:{confirm:function(){return e.sysArticleDelete(a)}}},[r("a",[e._v("删除")])]):e._e()],1)])}}])},[e.hasPerm("sysArticle:add")?r("template",{slot:"operator"},[e.hasPerm("sysArticle:add")?r("a-button",{attrs:{icon:"plus",type:"primary"},on:{click:function(t){return e.$refs.addForm.add()}}},[e._v("新增文章")]):e._e()],1):e._e()],2),e.hasPerm("sysArticle:add")?r("add-form",{ref:"addForm",on:{ok:e.handleOk}}):e._e(),e.hasPerm("sysArticle:edit")?r("edit-form",{ref:"editForm",on:{ok:e.handleOk}}):e._e(),e.hasPerm("sysArticle:detail")?r("detail-form",{ref:"detailForm",on:{ok:e.handleOk}}):e._e(),r("div",{ref:"editor"})],1)],1)},s=[],n=(r("4de4"),r("2af9")),c=r("27267"),o=r("126f"),i=r("0053"),l=r("5acb"),d=r("072b"),u={components:{XCard:n["w"],STable:n["r"],addForm:i["default"],editForm:l["default"],detailForm:d["default"]},data:function(){var e=this;return{advanced:!1,queryParam:{},columns:[{title:"标题",dataIndex:"title"},{title:"类型",dataIndex:"type",scopedSlots:{customRender:"type"}}],loadData:function(t){return Object(c["e"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],typeDictTypeDropDown:[]}},created:function(){this.sysDictTypeDropDown(),(this.hasPerm("sysArticle:edit")||this.hasPerm("sysArticle:delete"))&&this.columns.push({title:"操作",width:"300px",dataIndex:"action",scopedSlots:{customRender:"action"}})},methods:{sysDictTypeDropDown:function(){var e=this;Object(o["c"])({code:"article_type"}).then((function(t){e.typeDictTypeDropDown=t.data}))},typeFilter:function(e){var t=this.typeDictTypeDropDown.filter((function(t){return t.code==e}));if(t.length>0)return t[0].value},sysArticleDelete:function(e){var t=this;Object(c["b"])(e).then((function(e){e.success?(t.$message.success("删除成功"),t.$refs.table.refresh()):t.$message.error("删除失败："+e.message)})).catch((function(e){t.$message.error("删除错误："+e.message)}))},handleOk:function(){this.$refs.table.refresh()},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t}}},m=u,f=(r("1889"),r("0c7c")),p=Object(f["a"])(m,a,s,!1,null,null,null);t["default"]=p.exports}}]);