(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ceb4f"],{6131:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{padding:"0 0 32px 32px"}},[a("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:t.idName}})])},i=[],n=(a("d81d"),a("4de4"),a("b0c0"),{props:{idName:{type:String,default:"barStackingContrast"},title:{type:String,default:""},dataSource:{type:Array,required:!0},color:{type:Array,required:!0},barTitle:{type:String,default:""}},data:function(){return{}},mounted:function(){this.initEcharts()},methods:{initEcharts:function(){var t=this,e=this.$echarts.init(document.getElementById(this.idName));e.clear();var a=this.color,r=[];r=-1!==this.title.indexOf("BMI")?["正常","低体重","超重","肥胖"]:["A","B","C","D"];for(var i=[],n=[],o=function(){var e=t.dataSource[s].data,a=t.dataSource[s].year_semester;n.push(a);var o=[];for(o[0]=e.map((function(t){return{value:t.valueA,percent:t.percentA,year:a}})),o[1]=e.map((function(t){return{value:t.valueB,percent:t.percentB,year:a}})),o[2]=e.map((function(t){return{value:t.valueC,percent:t.percentC,year:a}})),o[3]=e.map((function(t){return{value:t.valueD,percent:t.percentD,year:a}})),e&&e.length>0&&0==s&&(l=e.map((function(t){return t.name}))),p=0;p<r.length;p++)i.push({name:r[p],type:"bar",stack:a,label:{show:!1,formatter:function(t){return t.value+"("+t.data.percent+"%)"}},data:o[p]})},s=0;s<this.dataSource.length;s++){var l,p;o()}var d={title:{text:this.barTitle,textStyle:{fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){for(var e=n.map((function(e){return t.filter((function(t){return t.data.year===e}))})),a="<div>"+t[0].name+"</div>",r=0;r<e.length;r++){a+='<div style="margin: 5px 0">'+n[r]+"</div>";for(var i=0;i<e[r].length;i++)0!=i&&i%2!=0||(a+='<div style="display: flex; width: 200px; margin: 5px auto" ><div style="margin-right: 5px; width: 100px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e[r][i].color+'"></span><span style="margin-right:5px">'+e[r][i].seriesName+":</span>"+e[r][i].data.value+"("+e[r][i].data.percent+'%)</div><div style="width: 100px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e[r][i+1].color+'"></span><span style="margin-right:5px">'+e[r][i+1].seriesName+":</span>"+e[r][i+1].data.value+"("+e[r][i+1].data.percent+"%)</div></div>")}return a}},color:a,legend:{itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},data:r},grid:{left:"3%",right:"4%",bottom:"13%",containLabel:!0},xAxis:{type:"category",data:l,axisLabel:{fontSize:14,interval:0,formatter:function(t){var e="",a=t.length,r=3;return e=a>r?t.substring(0,r)+"\n"+t.substring(3,a):t,e}},axisTick:{show:!0}},yAxis:{type:"value",name:"人数",boundaryGap:["0","20%"],splitLine:{show:!0}},series:i};d&&e.setOption(d,!0),this.$nextTick((function(){e.resize()}))}}}),o=n,s=a("0c7c"),l=Object(s["a"])(o,r,i,!1,null,null,null);e["default"]=l.exports}}]);