(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3415cd7a","chunk-2d2132bc","chunk-2d0c1ccf"],{"0964":function(t,e,a){"use strict";a.d(e,"q",(function(){return r})),a.d(e,"m",(function(){return i})),a.d(e,"o",(function(){return c})),a.d(e,"p",(function(){return o})),a.d(e,"r",(function(){return u})),a.d(e,"f",(function(){return l})),a.d(e,"e",(function(){return s})),a.d(e,"h",(function(){return p})),a.d(e,"i",(function(){return d})),a.d(e,"g",(function(){return h})),a.d(e,"b",(function(){return m})),a.d(e,"c",(function(){return f})),a.d(e,"d",(function(){return g})),a.d(e,"a",(function(){return y})),a.d(e,"j",(function(){return v})),a.d(e,"n",(function(){return b})),a.d(e,"l",(function(){return x})),a.d(e,"k",(function(){return S}));var n=a("b775");function r(t){return Object(n["b"])({url:"/SchoolStatistics/Get",method:"get",params:t})}function i(t){return Object(n["b"])({url:"/SchoolStatistics/GetSubjectStatistics",method:"get",params:t})}function c(t){return Object(n["b"])({url:"/SchoolStatistics/Detail",method:"get",params:t})}function o(t){return Object(n["b"])({url:"/SchoolStatistics/Export",method:"post",data:t,responseType:"blob"})}function u(t){return Object(n["b"])({url:"/SchoolStatistics/GetStudent",method:"get",params:t})}function l(t){return Object(n["b"])({url:"/SchoolStatistics/GetGradeStatistics",method:"get",params:t})}function s(t){return Object(n["b"])({url:"/SchoolStatistics/GetGradeProjectStatistics",method:"get",params:t})}function p(t){return Object(n["b"])({url:"/SchoolStatistics/GetGradeSubjectStatistics",method:"get",params:t})}function d(t){return Object(n["b"])({url:"/SchoolStatistics/GetGradeSubjectStatisticsMultiple",method:"get",params:t})}function h(t){return Object(n["b"])({url:"/SchoolStatistics/GetGradeSubjectDetailStatistics",method:"get",params:t})}function m(t){return Object(n["b"])({url:"/SchoolStatistics/ExportGradeSubjectStatistics",method:"post",data:t,responseType:"blob"})}function f(t){return Object(n["b"])({url:"/SchoolStatistics/GetClassStatistics",method:"get",params:t})}function g(t){return Object(n["b"])({url:"/SchoolStatistics/GetClassSubjectStatisticsDetail",method:"get",params:t})}function y(t){return Object(n["b"])({url:"/SchoolStatistics/ExportClassSubjectStatistics",method:"post",data:t,responseType:"blob"})}function v(t){return Object(n["b"])({url:"/SchoolStatistics/GetPersonalStatistics",method:"get",params:t})}function b(t){return Object(n["b"])({url:"/ParentAPPService/Get",method:"get",params:t})}function x(t){return Object(n["b"])({url:"/ParentAPPService/GetSubject",method:"get",params:t})}function S(t){return Object(n["b"])({url:"/SchoolStatistics/GetProjectStudent",method:"get",params:t})}},"481f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{padding:"0 0 32px 32px"}},[a("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:t.idName}})])},r=[],i=(a("d81d"),a("b0c0"),a("4de4"),{props:{idName:{type:String,default:"barStackingItem"},title:{type:String,default:""},dataSource:{type:Object,required:!0},color:{type:Array,required:!0},barTitle:{type:String,default:""}},data:function(){return{}},mounted:function(){this.initEcharts()},methods:{initEcharts:function(){var t=this.$echarts.init(document.getElementById(this.idName));t.clear();var e=this.color,a=[];a=-1!==this.title.indexOf("BMI")?["正常","低体重","超重","肥胖"]:-1!==this.title.indexOf("视力")?["A","B","C"]:["A","B","C","D"];var n=[],r=this.dataSource.item,i=[],c=["学期初","学期末"];if(r&&r.length>0)var o=r.map((function(t){return t.name}));if(this.dataSource.itemEnd){if(this.dataSource.itemEnd.length>0){var u=this.dataSource.itemEnd;if(-1!==this.title.indexOf("BMI")){i[0]=r.map((function(t){return{value:t.valueA,percent:t.percentA,year:"学期初"}})),i[1]=r.map((function(t){return{value:t.valueB,percent:t.percentB,year:"学期初"}})),i[2]=r.map((function(t){return{value:t.valueC,percent:t.percentC,year:"学期初"}})),i[3]=r.map((function(t){return{value:t.valueD,percent:t.percentD,year:"学期初"}})),i[4]=u.map((function(t){return{value:t.valueA,percent:t.percentA,year:"学期末"}})),i[5]=u.map((function(t){return{value:t.valueB,percent:t.percentB,year:"学期末"}})),i[6]=u.map((function(t){return{value:t.valueC,percent:t.percentC,year:"学期末"}})),i[7]=u.map((function(t){return{value:t.valueD,percent:t.percentD,year:"学期末"}}));for(var l=0;l<a.length;l++)n.push({name:a[l],type:"bar",stack:"学期初",label:{show:!1,formatter:function(t){return t.value+"("+t.data.percent+"%)"}},data:i[l]}),n.push({name:a[l],type:"bar",stack:"学期末",label:{show:!1,formatter:function(t){return t.value+"("+t.data.percent+"%)"}},data:i[l+4]})}else if(-1!==this.title.indexOf("视力")){i[0]=r.map((function(t){return{value:t.valueA,percent:t.percentA,year:"学期初"}})),i[1]=r.map((function(t){return{value:t.valueB,percent:t.percentB,year:"学期初"}})),i[2]=r.map((function(t){return{value:t.valueC,percent:t.percentC,year:"学期初"}})),i[3]=u.map((function(t){return{value:t.valueA,percent:t.percentA,year:"学期末"}})),i[4]=u.map((function(t){return{value:t.valueB,percent:t.percentB,year:"学期末"}})),i[5]=u.map((function(t){return{value:t.valueC,percent:t.percentC,year:"学期末"}}));for(l=0;l<a.length;l++)n.push({name:a[l],type:"bar",stack:"学期初",label:{show:!1,formatter:function(t){return t.value+"("+t.data.percent+"%)"}},data:i[l]}),n.push({name:a[l],type:"bar",stack:"学期末",label:{show:!1,formatter:function(t){return t.value+"("+t.data.percent+"%)"}},data:i[l+3]})}}}else{i[0]=r.map((function(t){return{value:t.valueA,percent:t.percentA}})),i[1]=r.map((function(t){return{value:t.valueB,percent:t.percentB}})),i[2]=r.map((function(t){return{value:t.valueC,percent:t.percentC}})),i[3]=r.map((function(t){return{value:t.valueD,percent:t.percentD}}));for(l=0;l<a.length;l++)n.push({name:a[l],type:"bar",stack:"总量",label:{show:!1,formatter:function(t){return t.value+"("+t.data.percent+"%)"}},data:i[l]})}var s={title:{text:this.barTitle,textStyle:{fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var e="<div>"+t[0].name+"</div>";if(t[0].data.year)for(var a=c.map((function(e){return t.filter((function(t){return t.data.year===e}))})),n=0;n<a.length;n++){e+='<div style="margin: 5px 0">'+c[n]+"</div>";for(var r=0;r<a[n].length;r++)0!=r&&r%2!=0||(r+1<a[n].length?e+='<div style="display: flex; width: 240px; margin: 5px auto" ><div style="margin-right: 15px; width: 100px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a[n][r].color+'"></span><span style="margin-right:5px">'+a[n][r].seriesName+":</span>"+a[n][r].data.value+"("+a[n][r].data.percent+'%)</div><div style="width: 100px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a[n][r+1].color+'"></span><span style="margin-right:5px">'+a[n][r+1].seriesName+":</span>"+a[n][r+1].data.value+"("+a[n][r+1].data.percent+"%)</div></div>":e+='<div style="display: flex; width: 240px; margin: 5px auto" ><div style="margin-right: 5px; width: 100px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a[n][r].color+'"></span><span style="margin-right:5px">'+a[n][r].seriesName+":</span>"+a[n][r].data.value+"("+a[n][r].data.percent+"%)</div></div>")}else for(r=0;r<t.length;r++)e+='<p><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t[r].color+'"></span><span style="margin-right:5px">'+t[r].seriesName+":</span>"+t[r].data.value+"("+t[r].data.percent+"%)</p>";return e}},color:e,legend:{itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},data:a},grid:{left:"3%",right:"4%",bottom:"13%",containLabel:!0},xAxis:{type:"category",data:o,axisLabel:{fontSize:14,interval:0,formatter:function(t){var e="",a=t.length,n=3;return e=a>n?t.substring(0,n)+"\n"+t.substring(3,a):t,e}},axisTick:{show:!0}},yAxis:{type:"value",name:"人数",boundaryGap:["0","20%"],splitLine:{show:!0}},series:n};s&&t.setOption(s,!0),this.$nextTick((function(){t.resize()}))}}}),c=i,o=a("0c7c"),u=Object(o["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports},ac15:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{padding:"0 0 32px 32px"}},[a("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:t.idName}})])},r=[],i=(a("d81d"),a("b0c0"),a("4de4"),{props:{idName:{type:String,default:"lineStackingItem"},title:{type:String,default:""},dataSource:{type:Object,required:!0},color:{type:Array,required:!0},lineTitle:{type:String,default:""}},data:function(){return{}},mounted:function(){this.initEcharts()},methods:{initEcharts:function(){var t=this.$echarts.init(document.getElementById(this.idName));t.clear();this.color;var e=[],a=["学期初","学期末"],n=[],r=[],i=[];i=-1!==this.title.indexOf("BMI")?["学期初正常","学期初低体重","学期初超重","学期初肥胖","学期末正常","学期末低体重","学期末超重","学期末肥胖"]:-1!==this.title.indexOf("视力")?["学期初A","学期初B","学期初C","学期末A","学期末B","学期末C"]:["学期初A","学期初B","学期初C","学期初D","学期末A","学期末B","学期末C","学期末D"];var c=this.dataSource.item;if(c&&c.length>0)var o=c.map((function(t){return t.name}));if(this.dataSource.itemEnd){if(this.dataSource.itemEnd.length>0){var u=this.dataSource.itemEnd;if(-1!==this.title.indexOf("BMI")){r[0]=c.map((function(t){return{value:t.percentA,year:"学期初",type:"正常"}})),r[1]=c.map((function(t){return{value:t.percentB,year:"学期初",type:"低体重"}})),r[2]=c.map((function(t){return{value:t.percentC,year:"学期初",type:"超重"}})),r[3]=c.map((function(t){return{value:t.percentD,year:"学期初",type:"肥胖"}})),r[4]=u.map((function(t){return{value:t.percentA,year:"学期末",type:"正常"}})),r[5]=u.map((function(t){return{value:t.percentB,year:"学期末",type:"低体重"}})),r[6]=u.map((function(t){return{value:t.percentC,year:"学期末",type:"超重"}})),r[7]=u.map((function(t){return{value:t.percentD,year:"学期末",type:"肥胖"}})),n.push({data:["学期初正常","学期初低体重","学期初超重","学期初肥胖"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:0}),n.push({data:["学期末正常","学期末低体重","学期末超重","学期末肥胖"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:30});for(var l=0;l<i.length;l++)e.push({name:i[l],type:"line",label:{show:!0,position:"top",formatter:function(t){return t.value+"%"}},data:r[l]})}else if(-1!==this.title.indexOf("视力")){r[0]=c.map((function(t){return{value:t.percentA,year:"学期初",type:"A"}})),r[1]=c.map((function(t){return{value:t.percentB,year:"学期初",type:"B"}})),r[2]=c.map((function(t){return{value:t.percentC,year:"学期初",type:"C"}})),r[3]=u.map((function(t){return{value:t.percentA,year:"学期末",type:"A"}})),r[4]=u.map((function(t){return{value:t.percentB,year:"学期末",type:"B"}})),r[5]=u.map((function(t){return{value:t.percentC,year:"学期末",type:"C"}})),n.push({data:["学期初A","学期初B","学期初C"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:0}),n.push({data:["学期末A","学期末B","学期末C"],type:"scroll",itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},top:30});for(l=0;l<i.length;l++)e.push({name:i[l],type:"line",label:{show:!0,position:"top",formatter:function(t){return t.value+"%"}},data:r[l]})}}}else{n.push({itemGap:30,itemWidth:40,itemHeight:20,textStyle:{fontSize:18,padding:[3,0,0,0]},data:["A","B","C","D"]}),r[0]=c.map((function(t){return{value:t.percentA}})),r[1]=c.map((function(t){return{value:t.percentB}})),r[2]=c.map((function(t){return{value:t.percentC}})),r[3]=c.map((function(t){return{value:t.percentD}}));for(l=0;l<n[0].data.length;l++)e.push({name:n[0].data[l],type:"line",label:{show:!0,position:"top",formatter:function(t){return t.value+"%"}},data:r[l]})}var s={title:{text:this.lineTitle,textStyle:{fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var e="<div>"+t[0].name+"</div>";if(t[0].data.year)for(var n=a.map((function(e){return t.filter((function(t){return t.data.year===e}))})),r=0;r<n.length;r++){e+='<div style="margin: 5px 0">'+a[r]+"</div>";for(var i=0;i<n[r].length;i++)0!=i&&i%2!=0||(i+1<n[r].length?e+='<div style="display: flex; width: 200px; margin: 5px auto" ><div style="margin-right: 5px; width: 80px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+n[r][i].color+'"></span><span style="margin-right:5px">'+n[r][i].data.type+":</span>"+n[r][i].data.value+'%</div><div style="width: 80px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+n[r][i+1].color+'"></span><span style="margin-right:5px">'+n[r][i+1].data.type+":</span>"+n[r][i+1].data.value+"%</div></div>":e+='<div style="display: flex; width: 200px; margin: 5px auto" ><div style="margin-right: 5px; width: 80px"><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+n[r][i].color+'"></span><span style="margin-right:5px">'+n[r][i].data.type+":</span>"+n[r][i].data.value+"%</div></div>")}else for(var c=0;c<t.length;c++)e+='<p><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t[c].color+'"></span><span style="margin-right:5px">'+t[c].seriesName+":</span>"+t[c].data.value+"%</p>";return e}},legend:n,grid:{top:90,left:"3%",right:"4%",bottom:"5%",containLabel:!0},xAxis:{type:"category",data:o,axisLabel:{fontSize:14,interval:0,formatter:function(t){var e="",a=t.length,n=3;return e=a>n?t.substring(0,n)+"\n"+t.substring(3,a):t,e}},axisTick:{show:!0}},yAxis:{type:"value",name:"占比",max:100,min:0,interval:20,axisLabel:{formatter:function(t,e){return t?"".concat(t,"%"):t}},splitLine:{show:!0}},series:e};s&&t.setOption(s,!0),this.$nextTick((function(){t.resize()}))}}}),c=i,o=a("0c7c"),u=Object(o["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports},ef19:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{attrs:{title:t.title,placement:"right",closable:!0,visible:t.visible,width:t.width,footer:null,bodyStyle:{padding:0},destroyOnClose:!0},on:{close:t.handleCancel}},[a("a-card",{attrs:{loading:t.loading,"body-style":{padding:"0"}}},[a("div",{staticClass:"salesCard"},[a("a-tabs",{attrs:{size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}},t._l(t.data,(function(e,n){return a("a-tab-pane",{key:n+1,attrs:{loading:"true",tab:e.title}},[e.item.length>0?a("a-row",[a("BarStackingItem",{ref:"itemStatistics"+n+1,refInFor:!0,attrs:{dataSource:e,idName:"itemStatistics"+n+1,color:t.colors,title:e.title,barTitle:"各等级人数统计图表"}}),a("LineStackingItem",{ref:"itemLineStatistics"+n+1,refInFor:!0,attrs:{dataSource:e,idName:"itemLineStatistics"+n+1,color:t.colors,title:e.title,lineTitle:"各等级占比统计图表"}})],1):a("a-row",[a("a-empty",{staticStyle:{margin:"40px 0"},attrs:{image:t.simpleImage}})],1)],1)})),1)],1)])],1)},r=[],i=(a("06f4"),a("fc25")),c=a("0964"),o=a("481f"),u=a("ac15"),l={components:{BarStackingItem:o["default"],LineStackingItem:u["default"]},data:function(){return{width:800,title:"详细",visible:!1,simpleImage:null,loading:!1,data:[],activeKey:1,colors:["#5470c6","#91cc75","#fac858","#ee6666"]}},beforeCreate:function(){this.simpleImage=i["a"].PRESENTED_IMAGE_SIMPLE},methods:{show:function(t,e){this.loading=!0,this.width=window.innerWidth-230;var a={school_year:t.school_year,semester:t.semester,subject_id:e};this.getStatistics(a),this.visible=!0},getStatistics:function(t){var e=this;Object(c["m"])(t).then((function(t){t.success&&(e.loading=!1,e.data=t.data)}))},handleCancel:function(){this.visible=!1}}},s=l,p=a("0c7c"),d=Object(p["a"])(s,n,r,!1,null,null,null);e["default"]=d.exports}}]);