(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef1c3846","chunk-61cd18aa"],{"11bcb":function(t,e,n){},"322f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{width:650,title:"回收详情"},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("s-table",{ref:"table",attrs:{columns:t.columns,data:t.loadData,alert:!1,rowKey:function(t){return t.id}},scopedSlots:t._u([{key:"answer_time",fn:function(e){return n("span",{},[n("a-tag",{attrs:{color:"cyan"}},[t._v(t._s(e)+"分钟")])],1)}},{key:"action",fn:function(e,i){return n("span",{},[n("h-link",{attrs:{type:"success"},nativeOn:{click:function(e){return t.$refs.previewResultModal.showModal(i)}}},[t._v("详情")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{placement:"topRight",title:"确认删除？"},on:{confirm:function(){return t.handleDelete(i.id)}}},[n("h-link",{attrs:{type:"danger"}},[t._v("删除")])],1)],1)}}])})],1),n("PreviewResultModal",{ref:"previewResultModal"})],1)},r=[],s=n("2af9"),a=n("4a1d"),o=n("699d"),u={components:{STable:s["r"],PreviewResultModal:o["default"]},data:function(){var t=this;return{visible:!1,queryParam:{questionnaire_id:""},columns:[{title:"问卷回收时间",align:"center",dataIndex:"retrieving_time"},{title:"答题时长",align:"center",dataIndex:"answer_time",scopedSlots:{customRender:"answer_time"}},{title:"操作",width:"100px",dataIndex:"action",scopedSlots:{customRender:"action"}}],tstyle:{"padding-bottom":"0px","margin-bottom":"10px"},loadData:function(e){return Object(a["h"])(Object.assign(e,t.queryParam)).then((function(t){return t.data}))}}},methods:{showModal:function(t){this.queryParam.questionnaire_id=t.id;try{this.$refs.table.refresh()}catch(e){}this.visible=!0},handleDelete:function(t){var e=this;Object(a["g"])({id:t.id}).then((function(t){t.success?(e.$message.success("删除成功"),e.$refs.table.refresh()):e.$message.error("删除失败："+t.message)}))},handleOk:function(t){this.visible=!1}}},c=u,l=n("0c7c"),d=Object(l["a"])(c,i,r,!1,null,null,null);e["default"]=d.exports},"4a1d":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"i",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"g",(function(){return p}));var i=n("b775");function r(t){return Object(i["b"])({url:"/questionnaire/questionnaireAdd",method:"post",data:t})}function s(t){return Object(i["b"])({url:"/questionnaire/questionnaireEdit",method:"post",data:t})}function a(t){return Object(i["b"])({url:"/questionnaire/questionnairePage",method:"post",data:t})}function o(t){return Object(i["b"])({url:"/questionnaire/questionnaireList",method:"post",data:t})}function u(t){return Object(i["b"])({url:"/questionnaire/questionnaireDelete",method:"post",data:t})}function c(t){return Object(i["b"])({url:"/questionnaire/questionnaireState",method:"post",data:t})}function l(t){return Object(i["b"])({url:"/questionnaire/questionnaireGet",method:"post",data:t})}function d(t){return Object(i["b"])({url:"/questionnaire/questionnaireSubmit",method:"post",data:t})}function f(t){return Object(i["b"])({url:"/questionnaire/questionnaireResultPage",method:"post",data:t})}function p(t){return Object(i["b"])({url:"/questionnaire/questionnaireResultDelete",method:"post",data:t})}},"699d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{title:"答卷详情",width:800,footer:null},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},t._l(t.form.questionnaire_question,(function(e,i){return n("span",{key:e.key||e.id,staticClass:"content"},[1==e.question_type||2==e.question_type?n("div",{staticStyle:{"margin-bottom":"25px"}},[n("a-row",[n("a-col",{attrs:{span:24}},[n("h3",[n("span",{class:Number(e.must_answer)?"star":""},[t._v(t._s(i+1)+"、")]),n("span",{domProps:{innerHTML:t._s(e.stem)}})])])],1),t._l(e.questionnaire_question_option,(function(i){return n("div",{key:i.sort||i.id,staticStyle:{"text-indent":"24px","margin-bottom":"10px"}},[1==e.question_type?n("span",{class:i.isChecked?"selCircular":"circular"}):t._e(),2==e.question_type?n("span",{class:i.isChecked?"selSquare":"square"}):t._e(),n("span",{domProps:{innerHTML:t._s(i.content)}}),i.is_fill&&i.isChecked&&i.answer_content?n("span",[t._v("("+t._s(i.answer_content)+")")]):t._e()])})),n("a-divider",{attrs:{dashed:""}})],2):t._e(),3==e.question_type||4==e.question_type||5==e.question_type?n("div",{staticStyle:{"margin-bottom":"25px"}},[n("a-row",[n("a-col",{attrs:{span:24}},[n("h3",[n("span",{class:Number(e.must_answer)?"star":""},[t._v(t._s(i+1)+"、")]),n("span",{domProps:{innerHTML:t._s(e.stem)}})])])],1),3==e.question_type?n("div",{staticStyle:{"text-indent":"24px"}},[n("p",{staticStyle:{"margin-right":"15px"}},[n("span",{class:"true"==e.questionnaire_result_detailed[0].checked_num?"selCircular":"circular"}),t._v(" 正确")]),n("p",[n("span",{class:"false"==e.questionnaire_result_detailed[0].checked_num?"selCircular":"circular"}),t._v(" 错误")])]):t._e(),5==e.question_type?n("div",{staticClass:"rectangle",domProps:{innerHTML:t._s(e.questionnaire_result_detailed[0].answer_content)}}):t._e(),n("a-divider",{attrs:{dashed:""}})],1):t._e()])})),0)],1)},r=[],s=(n("159b"),n("a9e3"),n("fb6a"),n("ac1f"),n("5319"),{data:function(){return{visible:!1,form:{}}},methods:{showModal:function(t){var e=this;this.form=t,this.visible=!0,this.form.questionnaire_question.forEach((function(t){1===t.question_type||2===t.question_type?t.questionnaire_question_option.forEach((function(e){t.questionnaire_result_detailed.forEach((function(t){Number(t.checked_num)===Number(e.sort)&&(e["isChecked"]=!0,e.is_fill&&(e["answer_content"]=t.answer_content))}))})):4===t.question_type&&(t.stem=e.formatStr(t.stem,t.questionnaire_result_detailed))}))},handleOk:function(t){this.visible=!1},formatStr:function(t,e){for(var n=[],i=0;i<t.length;i++)"_"===t[i]&&n.push(i);var r=[],s=[];n.forEach((function(t,e){s.length?t-s[s.length-1]===1?(s.push(t),n.length===e+1&&r.push(s)):(r.push(s),s=[],s.push(t)):s.push(t)}));for(var a=r.length-1;a>=0;a--){var o='<div class="underline">'.concat(e[a].answer_content,"</div>");t=u(t,r[a][0],o)}function u(t,e,n){return t.slice(0,e)+n+t.slice(e)}var c=t.replace(/_/g,"");return c}}}),a=s,o=(n("af98"),n("0c7c")),u=Object(o["a"])(a,i,r,!1,null,"2bab77cf",null);e["default"]=u.exports},af98:function(t,e,n){"use strict";n("11bcb")}}]);