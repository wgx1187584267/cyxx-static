(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6825cbc8","chunk-7608cbd5","chunk-3b04e1e6"],{"0d12":function(e,t,a){"use strict";a("65bb")},"29b3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"选择用户",width:900,visible:e.visible},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{staticStyle:{padding:"0 0 0 0"},attrs:{md:5,sm:24}},[a("a-card",{attrs:{bordered:!1,loading:e.treeLoading}},[""!=this.orgTree?a("div",[e.orgTree.length?a("a-tree",{attrs:{treeData:e.orgTree,defaultExpandAll:!0,defaultExpandedKeys:e.defaultExpandedKeys,replaceFields:e.replaceFields},on:{select:e.handleClick}}):e._e()],1):a("div",[a("a-empty",{attrs:{image:e.simpleImage}})],1)])],1),a("a-col",{attrs:{md:19,sm:24}},[e.hasPerm("sysUser:page")?a("x-card",[a("div",{staticClass:"table-page-search-wrapper",attrs:{slot:"content"},slot:"content"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"关键词"}},[a("a-input",{attrs:{"allow-clear":"",placeholder:"请输入姓名、账号、手机号"},model:{value:e.queryParam.searchValue,callback:function(t){e.$set(e.queryParam,"searchValue",t)},expression:"queryParam.searchValue"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"状态"}},[a("a-select",{attrs:{"allow-clear":"",placeholder:"请选择状态","default-value":"0"},model:{value:e.queryParam.searchStatus,callback:function(t){e.$set(e.queryParam,"searchStatus",t)},expression:"queryParam.searchStatus"}},e._l(e.statusDictTypeDropDown,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.code}},[e._v(" "+e._s(t.value))])})),1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)],1)],1)],1)]):e._e(),a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.id},rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"sex",fn:function(t){return a("span",{},[e._v(" "+e._s(e.sexFilter(t))+" ")])}},{key:"status",fn:function(t){return a("span",{},[e._v(" "+e._s(e.statusFilter(t))+" ")])}}])})],1)],1)],1)],1)},r=[],n=a("54f8"),o=(a("06f4"),a("fc25")),i=(a("4de4"),a("d3b7"),a("25f0"),a("2af9")),c=a("25fa"),l=a("0901"),d=a("126f"),u={components:{XCard:i["w"],STable:i["r"]},data:function(){var e=this;return{advanced:!1,visible:!1,queryParam:{},columns:[{title:"账号",dataIndex:"account"},{title:"姓名",dataIndex:"name"},{title:"性别",dataIndex:"sex",scopedSlots:{customRender:"sex"}},{title:"手机",dataIndex:"phone"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}}],loadData:function(t){return Object(l["a"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},orgTree:[],selectedRowKeys:[],selectedRows:[],defaultExpandedKeys:[],sexDictTypeDropDown:[],statusDictTypeDropDown:[],treeLoading:!0,simpleImage:o["a"].PRESENTED_IMAGE_SIMPLE,replaceFields:{key:"id"}}},methods:{userList:function(e){var t=this;this.visible=!0,Object(c["c"])(Object.assign(this.queryParam)).then((function(e){if(t.treeLoading=!1,e.success){t.orgTree=e.data;var a,s=Object(n["a"])(e.data);try{for(s.s();!(a=s.n()).done;){var r=a.value;0==r.parentId&&t.defaultExpandedKeys.push(r.id)}}catch(o){s.e(o)}finally{s.f()}}})),this.sysDictTypeDropDown()},sexFilter:function(e){var t=this.sexDictTypeDropDown.filter((function(t){return t.code==e}));if(t.length>0)return t[0].value},statusFilter:function(e){var t=this.statusDictTypeDropDown.filter((function(t){return t.code==e}));if(t.length>0)return t[0].value},sysDictTypeDropDown:function(e){var t=this;Object(d["c"])({code:"sex"}).then((function(e){t.sexDictTypeDropDown=e.data})),Object(d["c"])({code:"common_status"}).then((function(e){t.statusDictTypeDropDown=e.data}))},handleClick:function(e){this.queryParam={"sysEmpParam.orgId":e.toString()},this.$refs.table.refresh(!0)},toggleAdvanced:function(){this.advanced=!this.advanced},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleSubmit:function(){this.visible=!1,this.$emit("ok",this.selectedRows)},handleCancel:function(){this.visible=!1}}},m=u,f=(a("0d12"),a("0c7c")),h=Object(f["a"])(m,s,r,!1,null,null,null);t["default"]=h.exports},"2e65":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return c}));var s=a("b775");function r(e){return Object(s["b"])({url:"/flcFlowscheme/page",method:"get",params:e})}function n(e){return Object(s["b"])({url:"/flcFlowscheme/add",method:"post",data:e})}function o(e){return Object(s["b"])({url:"/flcFlowscheme/edit",method:"post",data:e})}function i(e){return Object(s["b"])({url:"/flcFlowscheme/delete",method:"post",data:e})}function c(e){return Object(s["b"])({url:"/flcFlowscheme/detail",method:"get",params:e})}},"65bb":function(e,t,a){},"6ad4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"设计流程:"+e.schemeName,width:1500,height:100,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.formLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}]})],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["schemeName"],expression:"['schemeName']"}]})],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contentParse"],expression:"['contentParse']"}]})],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["schemeContent",{rules:[{required:!0}]}],expression:"['schemeContent',{rules: [{ required: true}]}]"}]})],1),a("a-form-item",[a("vfd",{ref:"vfd",staticStyle:{"background-color":"white"},attrs:{needShow:!0,fieldNames:e.fieldNames},on:{openUser:function(t){return e.openUser()},openRole:function(t){return e.openRole()}}})],1)],1)],1),a("user-list-form",{ref:"userListForm",on:{ok:e.handleOkUser}}),a("role-list-form",{ref:"roleListForm",on:{ok:e.handleOkRole}})],1)},r=[],n=(a("d3b7"),a("2af9")),o=a("2e65"),i=a("29b3"),c=a("6ff5"),l={components:{vfd:n["x"],userListForm:i["default"],roleListForm:c["default"]},data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,formLoading:!0,schemeName:null,fieldNames:[],form:this.$form.createForm(this)}},methods:{edit:function(e){var t=this;this.visible=!0,this.formLoading=!1,this.schemeName=e.schemeName,setTimeout((function(){t.form.setFieldsValue({id:e.id,schemeName:e.schemeName,schemeContent:e.schemeContent,contentParse:e.contentParse}),t.fieldNames=JSON.parse(e.contentParse),t.importData(e.schemeContent)}),100)},importData:function(e){e?this.$refs.vfd.loadFlow(e):this.$refs.vfd.clear()},getDesignData:function(){var e=this.$refs.vfd,t=e.saveFlow();this.schemeContent=t,this.form.setFieldsValue({schemeContent:this.schemeContent})},openUser:function(e){this.$refs.userListForm.userList(e)},openRole:function(e){this.$refs.roleListForm.roleList(e)},handleOkUser:function(e){this.$refs.vfd.setFlowAttrForm(e)},handleOkRole:function(e){this.$refs.vfd.setFlowAttrForm(e)},handleSubmit:function(){var e=this;this.confirmLoading=!0,this.getDesignData();var t=this.form.validateFields;t((function(t,a){t?e.confirmLoading=!1:Object(o["c"])(a).then((function(t){t.success?(e.$message.success("设计成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a),e.form.resetFields(),e.$refs.vfd.clear()):e.$message.error("设计失败："+t.message)})).finally((function(t){e.confirmLoading=!1}))}))},handleCancel:function(){this.form.resetFields(),this.$refs.vfd.clear(),this.visible=!1,this.$refs.vfd.clear()}}},d=l,u=a("0c7c"),m=Object(u["a"])(d,s,r,!1,null,null,null);t["default"]=m.exports},"6ff5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"选择角色",width:900,visible:e.visible},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[e.hasPerm("sysRole:page")?a("x-card",[a("div",{staticClass:"table-page-search-wrapper",attrs:{slot:"content"},slot:"content"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"角色名"}},[a("a-input",{attrs:{"allow-clear":"",placeholder:"请输入角色名"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"唯一编码"}},[a("a-input",{attrs:{"allow-clear":"",placeholder:"请输入唯一编码"},model:{value:e.queryParam.code,callback:function(t){e.$set(e.queryParam,"code",t)},expression:"queryParam.code"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)],1)],1)],1)]):e._e(),a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.id},rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}}})],1)],1)},r=[],n=a("2af9"),o=a("a240"),i={components:{XCard:n["w"],STable:n["r"]},data:function(){var e=this;return{queryParam:{},visible:!1,columns:[{title:"角色名",dataIndex:"name"},{title:"唯一编码",dataIndex:"code"},{title:"排序",dataIndex:"sort"}],loadData:function(t){return Object(o["a"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[]}},methods:{roleList:function(e){this.visible=!0},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleSubmit:function(){this.visible=!1,this.$emit("ok",this.selectedRows)},handleCancel:function(){this.visible=!1}}},c=i,l=(a("9fd9"),a("0c7c")),d=Object(l["a"])(c,s,r,!1,null,null,null);t["default"]=d.exports},"9fd9":function(e,t,a){"use strict";a("f777")},f777:function(e,t,a){}}]);