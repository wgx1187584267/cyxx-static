(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b80923e"],{"289c":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-modal",{attrs:{title:e.title,width:600,confirmLoading:e.confirmLoading},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("a-form-model",{ref:"ruleForm",attrs:{model:e.formContent,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,rules:e.rules}},[i("a-form-model-item",{attrs:{label:"车牌号码",prop:"license_plate"}},[i("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.license_plate,callback:function(t){e.$set(e.formContent,"license_plate",t)},expression:"formContent.license_plate"}})],1),i("a-form-model-item",{attrs:{label:"司机"}},[i("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.driver,callback:function(t){e.$set(e.formContent,"driver",t)},expression:"formContent.driver"}})],1),i("a-form-model-item",{attrs:{label:"司机电话"}},[i("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.driver_phone,callback:function(t){e.$set(e.formContent,"driver_phone",t)},expression:"formContent.driver_phone"}})],1),i("a-form-model-item",{attrs:{label:"车辆描述"}},[i("a-textarea",{attrs:{placeholder:"请输入",allowClear:!0,"auto-size":{minRows:2}},model:{value:e.formContent.public_vehicles_describe,callback:function(t){e.$set(e.formContent,"public_vehicles_describe",t)},expression:"formContent.public_vehicles_describe"}})],1),i("a-form-model-item",{attrs:{label:"公车管理员",prop:"public_vehicles_admin"}},[i("HyUserSelect",{attrs:{choiceType:"radio"},model:{value:e.formContent.public_vehicles_admin,callback:function(t){e.$set(e.formContent,"public_vehicles_admin",t)},expression:"formContent.public_vehicles_admin"}})],1),i("a-form-model-item",{attrs:{label:"排序",prop:"sort"}},[i("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.sort,callback:function(t){e.$set(e.formContent,"sort",t)},expression:"formContent.sort"}})],1),i("a-form-model-item",{attrs:{label:"备注"}},[i("a-textarea",{attrs:{placeholder:"请输入",allowClear:!0,"auto-size":{minRows:2}},model:{value:e.formContent.remark,callback:function(t){e.$set(e.formContent,"remark",t)},expression:"formContent.remark"}})],1)],1)],1)],1)},n=[],l=(i("a9e3"),i("6a96")),o={data:function(){return{visible:!1,confirmLoading:!1,title:"添加",labelCol:{span:4},wrapperCol:{span:18},rules:{license_plate:[{required:!0,message:"请输入车牌号码",trigger:"blur"}],public_vehicles_admin:[{required:!0,message:"请选择公车管理员",trigger:"change"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}]},formData:{},formContent:{}}},methods:{add:function(){this.title="添加",this.visible=!0,this.formContent=Object.assign({},this.$options.data().formContent)},edit:function(e){this.title="编辑",this.visible=!0,this.editPage(e.id)},editPage:function(e){var t=this;Object(l["e"])({id:e}).then((function(e){e.success&&(t.formContent=e.data)}))},handleOk:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;var i=JSON.parse(JSON.stringify(e.formContent));!i.public_vehicles_admin||Array.isArray(i.public_vehicles_admin)&&!i.public_vehicles_admin.length?delete i.public_vehicles_admin:i.public_vehicles_admin=Array.isArray(i.public_vehicles_admin)&&i.public_vehicles_admin.length?Number(i.public_vehicles_admin[0]):i.public_vehicles_admin,e.confirmLoading=!0,"添加"===e.title?Object(l["a"])(i).then((function(t){t.success?(e.visible=!1,e.$message.success("添加成功！"),e.$emit("ok")):e.$message.error(JSON.stringify(t.message)),e.confirmLoading=!1})):Object(l["c"])(i).then((function(t){t.success?(e.visible=!1,e.$message.success("修改成功！"),e.$emit("ok")):e.$message.error(JSON.stringify(t.message)),e.confirmLoading=!1}))}))}}},a=o,s=i("0c7c"),c=Object(s["a"])(a,r,n,!1,null,null,null);t["default"]=c.exports},"6a96":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return o})),i.d(t,"d",(function(){return a})),i.d(t,"e",(function(){return s}));var r=i("b775");function n(e){return Object(r["b"])({url:"/PublicVehicles/Create",method:"post",data:e})}function l(e){return Object(r["b"])({url:"/PublicVehicles/Edit",method:"post",data:e})}function o(e){return Object(r["b"])({url:"/PublicVehicles/Del",method:"post",data:e})}function a(e){return Object(r["b"])({url:"/PublicVehicles/Get",method:"get",params:e})}function s(e){return Object(r["b"])({url:"/PublicVehicles/Detail",method:"get",params:e})}}}]);