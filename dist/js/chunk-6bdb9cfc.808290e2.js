(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bdb9cfc","chunk-26480fa8"],{2110:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{title:e.title,width:700},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.formContent,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,rules:e.rules}},[a("a-form-model-item",{attrs:{label:"APP类型",prop:"app_type"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",allowClear:!0},on:{change:e.changeType},model:{value:e.formContent.app_type,callback:function(t){e.$set(e.formContent,"app_type",t)},expression:"formContent.app_type"}},[a("a-select-option",{attrs:{value:"3"}},[e._v("整体")])],1)],1),a("a-form-model-item",{attrs:{label:"APP名称",prop:"name"}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.name,callback:function(t){e.$set(e.formContent,"name",t)},expression:"formContent.name"}})],1),a("a-form-model-item",{attrs:{label:"APP版本号",prop:"version"}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.version,callback:function(t){e.$set(e.formContent,"version",t)},expression:"formContent.version"}})],1),a("a-form-model-item",{attrs:{label:"系统类型",prop:"os"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",allowClear:!0},model:{value:e.formContent.os,callback:function(t){e.$set(e.formContent,"os",t)},expression:"formContent.os"}},[a("a-select-option",{attrs:{value:"android"}},[e._v("安卓")]),a("a-select-option",{attrs:{value:"ios"}},[e._v("苹果")])],1)],1),a("a-form-model-item",{attrs:{label:"安装包地址",prop:"pkg_url"}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.pkg_url,callback:function(t){e.$set(e.formContent,"pkg_url",t)},expression:"formContent.pkg_url"}})],1),a("a-form-model-item",{attrs:{label:"Wgt包地址"}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.wgt_url,callback:function(t){e.$set(e.formContent,"wgt_url",t)},expression:"formContent.wgt_url"}})],1),a("a-form-model-item",{attrs:{label:"下载页地址"}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:!0},model:{value:e.formContent.download_url,callback:function(t){e.$set(e.formContent,"download_url",t)},expression:"formContent.download_url"}})],1),a("a-form-model-item",{attrs:{label:"提示信息"}},[a("a-textarea",{attrs:{placeholder:"请输入",allowClear:!0,"auto-size":{minRows:2}},model:{value:e.formContent.desc,callback:function(t){e.$set(e.formContent,"desc",t)},expression:"formContent.desc"}})],1)],1)],1)],1)},n=[],o=a("2212"),l={data:function(){return{visible:!1,title:"添加",labelCol:{span:4},wrapperCol:{span:18},rules:{app_type:[{required:!0,message:"请选择APP类型",trigger:"change"}],name:[{required:!0,message:"请输入APP名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本号",trigger:"blur"}],pkg_url:[{required:!0,message:"请输入安装包地址",trigger:"blur"}],os:[{required:!0,message:"请选择系统类型",trigger:"change"}]},formContent:{app_type:"3",name:"智慧教育新生态",pkg_url:"http://182.40.103.156:3021/apk/cyxx.apk",download_url:"http://182.40.103.156:3021/",os:"android"}}},methods:{changeType:function(e){},add:function(){this.title="添加",this.visible=!0,this.formContent=Object.assign({},this.$options.data().formContent)},edit:function(e){this.title="编辑",this.visible=!0,this.formContent=JSON.parse(JSON.stringify(e))},handleOk:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;var a=JSON.parse(JSON.stringify(e.formContent));"添加"===e.title?Object(o["a"])(a).then((function(t){t.success?(e.visible=!1,e.$message.success("添加成功！"),e.$emit("ok")):e.$message.error("添加失败："+t.message)})):Object(o["c"])(a).then((function(t){t.success?(e.visible=!1,e.$message.success("修改成功！"),e.$emit("ok")):e.$message.error("修改失败："+t.message)}))}))}}},s=l,i=a("0c7c"),c=Object(i["a"])(s,r,n,!1,null,null,null);t["default"]=c.exports},2212:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s}));var r=a("b775");function n(e){return Object(r["b"])({url:"/AppInfo/GetAppInfos",method:"get",params:e})}function o(e){return Object(r["b"])({url:"/AppInfo/AddAppInfo",method:"post",data:e})}function l(e){return Object(r["b"])({url:"/AppInfo/EditAppInfo",method:"post",data:e})}function s(e){return Object(r["b"])({url:"/AppInfo/DelAppInfo",method:"post",data:e})}},"9d19":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("x-card",[a("div",{staticClass:"table-page-search-wrapper",attrs:{slot:"content"},slot:"content"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48,type:"flex",justify:"start"}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"APP名称"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{"allow-clear":"",placeholder:"请输入"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"APP版本号"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{"allow-clear":"",placeholder:"请输入"},model:{value:e.queryParam.version,callback:function(t){e.$set(e.queryParam,"version",t)},expression:"queryParam.version"}})],1)],1),e.advanced?[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"APP类型"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",allowClear:!0},model:{value:e.queryParam.app_type,callback:function(t){e.$set(e.queryParam,"app_type",t)},expression:"queryParam.app_type"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("教师端")]),a("a-select-option",{attrs:{value:"2"}},[e._v("家长端")]),a("a-select-option",{attrs:{value:"3"}},[e._v("整体")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"系统类型"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",allowClear:!0},model:{value:e.queryParam.os,callback:function(t){e.$set(e.queryParam,"os",t)},expression:"queryParam.os"}},[a("a-select-option",{attrs:{value:"android"}},[e._v("安卓")]),a("a-select-option",{attrs:{value:"ios"}},[e._v("苹果")])],1)],1)],1)]:e._e(),a("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")]),a("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v(" "+e._s(e.advanced?"收起":"展开")),a("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],2)],1)],1)]),a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{columns:e.columns,data:e.loadData,alert:!1,rowKey:function(e){return e.id}},scopedSlots:e._u([{key:"action",fn:function(t,r){return a("span",{},[a("a",{on:{click:function(t){return e.$refs.addEditForm.edit(r)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{placement:"topRight",title:"确认删除？"},on:{confirm:function(){return e.handleDelete(r)}}},[a("a",[e._v("删除")])])],1)}}])},[a("template",{slot:"operator"},[a("a-space",[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.addEditForm.add()}}},[e._v("新增APP信息")])],1)],1)],2)],1),a("AddEditForm",{ref:"addEditForm",on:{ok:e.handleOk}})],1)},n=[],o=a("2af9"),l=a("2212"),s=a("2110"),i={components:{STable:o["r"],XCard:o["w"],AddEditForm:s["default"]},data:function(){var e=this;return{advanced:!1,queryParam:{},queryContent:{},columns:[{title:"APP类型",align:"center",dataIndex:"app_type",customRender:function(e,t){return"1"===t.app_type?"教师端":"2"===t.app_type?"家长端":"3"===t.app_type?"整体":""}},{title:"APP名称",align:"center",dataIndex:"name"},{title:"APP版本号",align:"center",dataIndex:"version"},{title:"APK包地址",align:"center",dataIndex:"pkg_url"},{title:"Wgt包地址",align:"center",dataIndex:"wgt_url"},{title:"下载页地址",align:"center",dataIndex:"download_url"},{title:"系统类型",align:"center",dataIndex:"os",customRender:function(e,t){return"android"===t.os?"安卓":"苹果"}},{title:"更新信息",align:"center",dataIndex:"desc"},{title:"操作",width:"120px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(l["d"])(Object.assign(t,e.formatParameters())).then((function(e){return e.data}))}}},methods:{formatParameters:function(){var e=JSON.parse(JSON.stringify(this.queryParam));return e},handleDelete:function(e){var t=this;Object(l["b"])(e).then((function(e){e.success?(t.$message.success("删除成功"),t.$refs.table.refresh()):t.$message.error("删除失败："+e.message)}))},toggleAdvanced:function(){this.advanced=!this.advanced},handleOk:function(){this.$refs.table.refresh()}}},c=i,d=a("0c7c"),u=Object(d["a"])(c,r,n,!1,null,"5ffae1de",null);t["default"]=u.exports}}]);